function createNotImplementedError(e){throw new Error(`[unenv] ${e} is not implemented yet!`)}function notImplemented(e){return Object.assign((()=>{throw createNotImplementedError(e)}),{__unenv__:!0})}globalThis._importMeta_={url:"file:///_entry.js",env:{}};const e=[],t=[],r="undefined"==typeof Uint8Array?Array:Uint8Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let r=0,o=64;r<o;++r)e[r]=n[r],t[n.charCodeAt(r)]=r;function toByteArray(e){let n;const o=function(e){const t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}(e),s=o[0],i=o[1],a=new r(function(e,t,r){return 3*(t+r)/4-r}(0,s,i));let u=0;const c=i>0?s-4:s;let l;for(l=0;l<c;l+=4)n=t[e.charCodeAt(l)]<<18|t[e.charCodeAt(l+1)]<<12|t[e.charCodeAt(l+2)]<<6|t[e.charCodeAt(l+3)],a[u++]=n>>16&255,a[u++]=n>>8&255,a[u++]=255&n;return 2===i&&(n=t[e.charCodeAt(l)]<<2|t[e.charCodeAt(l+1)]>>4,a[u++]=255&n),1===i&&(n=t[e.charCodeAt(l)]<<10|t[e.charCodeAt(l+1)]<<4|t[e.charCodeAt(l+2)]>>2,a[u++]=n>>8&255,a[u++]=255&n),a}function encodeChunk(t,r,n){let o;const s=[];for(let a=r;a<n;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(e[(i=o)>>18&63]+e[i>>12&63]+e[i>>6&63]+e[63&i]);var i;return s.join("")}function fromByteArray(t){let r;const n=t.length,o=n%3,s=[],i=16383;for(let e=0,r=n-o;e<r;e+=i)s.push(encodeChunk(t,e,e+i>r?r:e+i));return 1===o?(r=t[n-1],s.push(e[r>>2]+e[r<<4&63]+"==")):2===o&&(r=(t[n-2]<<8)+t[n-1],s.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),s.join("")}function read(e,t,r,n,o){let s,i;const a=8*o-n-1,u=(1<<a)-1,c=u>>1;let l=-7,f=r?o-1:0;const d=r?-1:1;let h=e[t+f];for(f+=d,s=h&(1<<-l)-1,h>>=-l,l+=a;l>0;)s=256*s+e[t+f],f+=d,l-=8;for(i=s&(1<<-l)-1,s>>=-l,l+=n;l>0;)i=256*i+e[t+f],f+=d,l-=8;if(0===s)s=1-c;else{if(s===u)return i?Number.NaN:(h?-1:1)*Number.POSITIVE_INFINITY;i+=Math.pow(2,n),s-=c}return(h?-1:1)*i*Math.pow(2,s-n)}function write(e,t,r,n,o,s){let i,a,u,c=8*s-o-1;const l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;let h=n?0:s-1;const p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),Number.isNaN(t)||t===Number.POSITIVE_INFINITY?(a=Number.isNaN(t)?1:0,i=l):(i=Math.floor(Math.log2(t)),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),(t+=i+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(i++,u/=2),i+f>=l?(a=0,i=l):i+f>=1?(a=(t*u-1)*Math.pow(2,o),i+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),i=0));o>=8;)e[r+h]=255&a,h+=p,a/=256,o-=8;for(i=i<<o|a,c+=o;c>0;)e[r+h]=255&i,h+=p,i/=256,c-=8;e[r+h-p]|=128*y}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;const o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,s=2147483647;function createBuffer(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer$1.prototype),t}function Buffer$1(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer$1.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|byteLength(e,t);let n=createBuffer(r);const o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(isInstance(e,Uint8Array)){const t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer$1.from(n,t,r);const o=function(e){if(Buffer$1.isBuffer(e)){const t=0|checked(e.length),r=createBuffer(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer$1.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){const t=e.length<0?0:0|checked(e.length),r=createBuffer(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,Buffer$1.prototype),n}function checked(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer$1.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(o)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),o=!0}}function slowToString(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=Buffer$1.from(t,n)),Buffer$1.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,o){let s,i=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,a/=2,u/=2,r/=2}function read(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let n=-1;for(s=r;s<a;s++)if(read(e,s)===read(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*i}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(read(e,s+n)!==read(t,n)){r=!1;break}if(r)return s}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const s=t.length;let i;for(n>s/2&&(n=s/2),i=0;i<n;++i){const n=Number.parseInt(t.slice(2*i,2*i+2),16);if(numberIsNaN(n))return i;e[r+i]=n}return i}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function(e,t){let r,n,o;const s=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,s.push(o,n);return s}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray(e):fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let s=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=r){let r,n,a,u;switch(i){case 1:t<128&&(s=t);break;case 2:r=e[o+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,i=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=i}return function(e){const t=e.length;if(t<=i)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=i));return r}(n)}Buffer$1.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),Buffer$1.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This environment lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer$1.prototype,"parent",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer$1.prototype,"offset",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.byteOffset}}),Buffer$1.poolSize=8192,Buffer$1.from=function(e,t,r){return from(e,t,r)},Object.setPrototypeOf(Buffer$1.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer$1,Uint8Array),Buffer$1.alloc=function(e,t,r){return function(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}(e,t,r)},Buffer$1.allocUnsafe=function(e){return allocUnsafe(e)},Buffer$1.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer$1.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer$1.prototype},Buffer$1.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer$1.from(t,t.offset,t.byteLength)),!Buffer$1.isBuffer(e)||!Buffer$1.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,s=Math.min(r,n);o<s;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},Buffer$1.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$1.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$1.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=Buffer$1.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(isInstance(t,Uint8Array))o+t.length>n.length?(Buffer$1.isBuffer(t)||(t=Buffer$1.from(t.buffer,t.byteOffset,t.byteLength)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!Buffer$1.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$1.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$1.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$1.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):Reflect.apply(slowToString,this,arguments)},Buffer$1.prototype.toLocaleString=Buffer$1.prototype.toString,Buffer$1.prototype.equals=function(e){if(!Buffer$1.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$1.compare(this,e)},Buffer$1.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},o&&(Buffer$1.prototype[o]=Buffer$1.prototype.inspect),Buffer$1.prototype.compare=function(e,t,r,n,o){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),!Buffer$1.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0);const a=Math.min(s,i),u=this.slice(n,o),c=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==c[e]){s=u[e],i=c[e];break}return s<i?-1:i<s?1:0},Buffer$1.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer$1.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer$1.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer$1.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!Number.isFinite(t))throw new TypeError("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,Number.isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},Buffer$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const i=4096;function asciiSlice(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function latin1Slice(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function hexSlice(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=c[e[n]];return o}function utf16leSlice(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,o,s){if(!Buffer$1.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(e,t,r,n,o){checkIntBI(t,n,o,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,r}function wrtBigUInt64BE(e,t,r,n,o){checkIntBI(t,n,o,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=i,i>>=8,e[r+2]=i,i>>=8,e[r+1]=i,i>>=8,e[r]=i,r+8}function checkIEEE754(e,t,r,n,o,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,o){return t=+t,r>>>=0,o||checkIEEE754(e,0,r,4),write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,o){return t=+t,r>>>=0,o||checkIEEE754(e,0,r,8),write(e,t,r,n,52,8),r+8}Buffer$1.prototype.slice=function(e,t){const r=this.length;(e=Math.trunc(e))<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:Math.trunc(t))<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,Buffer$1.prototype),n},Buffer$1.prototype.readUintLE=Buffer$1.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e],o=1,s=0;for(;++s<t&&(o*=256);)n+=this[e+s]*o;return n},Buffer$1.prototype.readUintBE=Buffer$1.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},Buffer$1.prototype.readUint8=Buffer$1.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer$1.prototype.readUint16LE=Buffer$1.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$1.prototype.readUint16BE=Buffer$1.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$1.prototype.readUint32LE=Buffer$1.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$1.prototype.readUint32BE=Buffer$1.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$1.prototype.readBigUInt64LE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),Buffer$1.prototype.readBigUInt64BE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),Buffer$1.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e],o=1,s=0;for(;++s<t&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},Buffer$1.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=t,o=1,s=this[e+--n];for(;n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s},Buffer$1.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$1.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer$1.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer$1.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$1.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$1.prototype.readBigInt64LE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),Buffer$1.prototype.readBigInt64BE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),Buffer$1.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer$1.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer$1.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer$1.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer$1.prototype.writeUintLE=Buffer$1.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},Buffer$1.prototype.writeUintBE=Buffer$1.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},Buffer$1.prototype.writeUint8=Buffer$1.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer$1.prototype.writeUint16LE=Buffer$1.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeUint16BE=Buffer$1.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeUint32LE=Buffer$1.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer$1.prototype.writeUint32BE=Buffer$1.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigUInt64LE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer$1.prototype.writeBigUInt64BE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer$1.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}let o=0,s=1,i=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=Math.trunc(e/s)-i&255;return t+r},Buffer$1.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}let o=r-1,s=1,i=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=Math.trunc(e/s)-i&255;return t+r},Buffer$1.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$1.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer$1.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigInt64LE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer$1.prototype.writeBigInt64BE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer$1.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer$1.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer$1.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer$1.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer$1.prototype.copy=function(e,t,r,n){if(!Buffer$1.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},Buffer$1.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer$1.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const s=Buffer$1.isBuffer(e)?e:Buffer$1.from(e,n),i=s.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%i]}return this};const a={};function E(e,t,r){a[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:Reflect.apply(t,this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function addNumericalSeparator(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function checkIntBI(e,t,r,n,o,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new a.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){validateNumber(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||boundsError(t,e.length-(r+1))}(n,o,s)}function validateNumber(e,t){if("number"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE(t,"number",e)}function boundsError(e,t,r){if(Math.floor(e)!==e)throw validateNumber(e,r),new a.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new a.ERR_BUFFER_OUT_OF_BOUNDS;throw new a.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}E("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),E("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),E("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=addNumericalSeparator(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=addNumericalSeparator(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const u=/[^\w+/-]/g;function utf8ToBytes(e,t){let r;t=t||Number.POSITIVE_INFINITY;const n=e.length;let o=null;const s=[];for(let i=0;i<n;++i){if(r=e.charCodeAt(i),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function base64ToBytes(e){return toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(u,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}const c=function(){const e="0123456789abcdef",t=Array.from({length:256});for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function defineBigIntMethod(e){return"undefined"==typeof BigInt?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}const l=globalThis.Buffer||Buffer$1;notImplemented("buffer.resolveObjectURL"),notImplemented("buffer.transcode"),notImplemented("buffer.isUtf8"),notImplemented("buffer.isAscii");const f=/#/g,d=/&/g,h=/=/g,p=/\+/g,y=/%5e/gi,g=/%60/gi,m=/%7c/gi,b=/%20/gi;function encodeQueryValue(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(m,"|")).replace(p,"%2B").replace(b,"+").replace(f,"%23").replace(d,"%26").replace(g,"`").replace(y,"^");var t}function encodeQueryKey(e){return encodeQueryValue(e).replace(h,"%3D")}function decode(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function decodeQueryValue(e){return decode(e.replace(p," "))}function parseQuery(e=""){const t={};"?"===e[0]&&(e=e.slice(1));for(const r of e.split("&")){const e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const n=decode(e[1].replace(p," "));if("__proto__"===n||"constructor"===n)continue;const o=decodeQueryValue(e[2]||"");void 0===t[n]?t[n]=o:Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]}return t}function stringifyQuery(e){return Object.keys(e).filter((t=>void 0!==e[t])).map((t=>{return r=t,"number"!=typeof(n=e[t])&&"boolean"!=typeof n||(n=String(n)),n?Array.isArray(n)?n.map((e=>`${encodeQueryKey(r)}=${encodeQueryValue(e)}`)).join("&"):`${encodeQueryKey(r)}=${encodeQueryValue(n)}`:encodeQueryKey(r);var r,n})).filter(Boolean).join("&")}const v=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,w=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,_=/^([/\\]\s*){2,}[^/\\]/;function hasProtocol(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?v.test(e):w.test(e)||!!t.acceptRelative&&_.test(e)}const B=/\/$|\/\?|\/#/;function hasTrailingSlash(e="",t){return t?B.test(e):e.endsWith("/")}function withoutTrailingSlash(e="",t){if(!t)return(hasTrailingSlash(e)?e.slice(0,-1):e)||"/";if(!hasTrailingSlash(e,!0))return e||"/";let r=e,n="";const o=e.indexOf("#");o>=0&&(r=e.slice(0,o),n=e.slice(o));const[s,...i]=r.split("?");return(s.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")+n}function withTrailingSlash(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(hasTrailingSlash(e,!0))return e||"/";let r=e,n="";const o=e.indexOf("#");if(o>=0&&(r=e.slice(0,o),n=e.slice(o),!r))return n;const[s,...i]=r.split("?");return s+"/"+(i.length>0?`?${i.join("?")}`:"")+n}function withoutBase(e,t){if(isEmptyURL(t))return e;const r=withoutTrailingSlash(t);if(!e.startsWith(r))return e;const n=e.slice(r.length);return"/"===n[0]?n:"/"+n}function withQuery(e,t){const r=parseURL(e),n={...parseQuery(r.search),...t};return r.search=stringifyQuery(n),function(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",o=e.auth?e.auth+"@":"",s=e.host||"",i=e.protocol?e.protocol+"//":"";return i+o+s+t+r+n}(r)}function isEmptyURL(e){return!e||"/"===e}const A=/^\.?\//;function joinURL(e,...t){let r=e||"";for(const e of t.filter((e=>function(e){return e&&"/"!==e}(e))))if(r){const t=e.replace(A,"");r=withTrailingSlash(r)+t}else r=e;return r}function parseURL(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,e,t=""]=r;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!hasProtocol(e,{acceptRelative:!0}))return t?parseURL(t+e):parsePath(e);const[,n="",o,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,i="",a=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:u,search:c,hash:l}=parsePath(a.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:u,search:c,hash:l}}function parsePath(e=""){const[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}const R={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function createRouter$1(e={}){const t={options:e,rootNode:createRadixNode(),staticRoutesMap:{}},normalizeTrailingSlash=t=>e.strictTrailingSlash?t:t.replace(/\/$/,"")||"/";if(e.routes)for(const r in e.routes)insert(t,normalizeTrailingSlash(r),e.routes[r]);return{ctx:t,lookup:e=>function(e,t){const r=e.staticRoutesMap[t];if(r)return r.data;const n=t.split("/"),o={};let s=!1,i=null,a=e.rootNode,u=null;for(let e=0;e<n.length;e++){const t=n[e];null!==a.wildcardChildNode&&(i=a.wildcardChildNode,u=n.slice(e).join("/"));const r=a.children.get(t);if(void 0!==r)a=r;else{if(a=a.placeholderChildNode,null===a)break;o[a.paramName]=t,s=!0}}null!==a&&null!==a.data||null===i||(a=i,o[a.paramName||"_"]=u,s=!0);if(!a)return null;if(s)return{...a.data,params:s?o:void 0};return a.data}(t,normalizeTrailingSlash(e)),insert:(e,r)=>insert(t,normalizeTrailingSlash(e),r),remove:e=>function(e,t){let r=!1;const n=t.split("/");let o=e.rootNode;for(const e of n)if(o=o.children.get(e),!o)return r;if(o.data){const e=n[n.length-1];if(o.data=null,0===Object.keys(o.children).length){const t=o.parent;t.children.delete(e),t.wildcardChildNode=null,t.placeholderChildNode=null}r=!0}return r}(t,normalizeTrailingSlash(e))}}function insert(e,t,r){let n=!0;const o=t.split("/");let s=e.rootNode,i=0;for(const e of o){let t;if(t=s.children.get(e))s=t;else{const r=getNodeType(e);t=createRadixNode({type:r,parent:s}),s.children.set(e,t),r===R.PLACEHOLDER?(t.paramName="*"===e?"_"+i++:e.slice(1),s.placeholderChildNode=t,n=!1):r===R.WILDCARD&&(s.wildcardChildNode=t,t.paramName=e.slice(3)||"_",n=!1),s=t}}return s.data=r,!0===n&&(e.staticRoutesMap[t]=s),s}function createRadixNode(e={}){return{type:e.type||R.NORMAL,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildNode:null}}function getNodeType(e){return e.startsWith("**")?R.WILDCARD:":"===e[0]||"*"===e?R.PLACEHOLDER:R.NORMAL}function toRouteMatcher(e){return function(e){return{ctx:{table:e},matchAll:t=>_matchRoutes(t,e)}}(_routerNodeToTable("",e.ctx.rootNode))}function _matchRoutes(e,t){const r=[];for(const[n,o]of _sortRoutesMap(t.wildcard))e.startsWith(n)&&r.push(o);for(const[n,o]of _sortRoutesMap(t.dynamic))if(e.startsWith(n+"/")){const t="/"+e.slice(n.length).split("/").splice(2).join("/");r.push(..._matchRoutes(t,o))}const n=t.static.get(e);return n&&r.push(n),r.filter(Boolean)}function _sortRoutesMap(e){return[...e.entries()].sort(((e,t)=>e[0].length-t[0].length))}function _routerNodeToTable(e,t){const r={static:new Map,wildcard:new Map,dynamic:new Map};return function _addNode(e,t){if(e)if(t.type!==R.NORMAL||e.includes("*")||e.includes(":")){if(t.type===R.WILDCARD)r.wildcard.set(e.replace("/**",""),t.data);else if(t.type===R.PLACEHOLDER){const n=_routerNodeToTable("",t);return t.data&&n.static.set("/",t.data),void r.dynamic.set(e.replace(/\/\*|\/:\w+/,""),n)}}else r.static.set(e,t.data);for(const[r,n]of t.children.entries())_addNode(`${e}/${r}`.replace("//","/"),n)}(e,t),r}const O=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,I=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,T=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function destr(e,t={}){if("string"!=typeof e)return e;const r=e.trim();if('"'===e[0]&&'"'===e.at(-1)&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!T.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(O.test(e)||I.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function isPlainObject$1(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function _defu(e,t,r=".",n){if(!isPlainObject$1(t))return _defu(e,{},r,n);const o=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const s=e[t];null!=s&&(n&&n(o,t,s,r)||(Array.isArray(s)&&Array.isArray(o[t])?o[t]=[...s,...o[t]]:isPlainObject$1(s)&&isPlainObject$1(o[t])?o[t]=_defu(s,o[t],(r?`${r}.`:"")+t.toString(),n):o[t]=s))}return o}function createDefu(e){return(...t)=>t.reduce(((t,r)=>_defu(t,r,"",e)),{})}const j=createDefu(),S=createDefu(((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}));let C=10,k=class{__unenv__=!0;_events=Object.create(null);_maxListeners;static get defaultMaxListeners(){return C}static set defaultMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");C=e}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}getMaxListeners(){return _getMaxListeners(this)}emit(e,...t){if(!this._events[e]||0===this._events[e].length)return!1;if("error"===e){let e;if(t.length>0&&(e=t[0]),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw r.context=e,r}for(const r of this._events[e])(r.listener||r).apply(this,t);return!0}addListener(e,t){return _addListener(this,e,t,!1)}on(e,t){return _addListener(this,e,t,!1)}prependListener(e,t){return _addListener(this,e,t,!0)}once(e,t){return this.on(e,_wrapOnce(this,e,t))}prependOnceListener(e,t){return this.prependListener(e,_wrapOnce(this,e,t))}removeListener(e,t){return function(e,t,r){if(_checkListener(r),!e._events[t]||0===e._events[t].length)return e;const n=e._events[t].length;if(e._events[t]=e._events[t].filter((e=>e!==r)),n===e._events[t].length)return e;e._events.removeListener&&e.emit("removeListener",t,r.listener||r);0===e._events[t].length&&delete e._events[t];return e}(this,e,t)}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return function(e,t){if(!e._events[t]||0===e._events[t].length)return e;if(e._events.removeListener)for(const r of e._events[t])e.emit("removeListener",t,r.listener||r);return delete e._events[t],e}(this,e)}listeners(e){return _listeners(this,e,!0)}rawListeners(e){return _listeners(this,e,!1)}listenerCount(e){return this.rawListeners(e).length}eventNames(){return Object.keys(this._events)}};function _addListener(e,t,r,n){_checkListener(r),void 0!==e._events.newListener&&e.emit("newListener",t,r.listener||r),e._events[t]||(e._events[t]=[]),n?e._events[t].unshift(r):e._events[t].push(r);const o=_getMaxListeners(e);if(o>0&&e._events[t].length>o&&!e._events[t].warned){e._events[t].warned=!0;const r=new Error(`[unenv] Possible EventEmitter memory leak detected. ${e._events[t].length} ${t} listeners added. Use emitter.setMaxListeners() to increase limit`);r.name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=e._events[t]?.length,console.warn(r)}return e}function _wrapOnce(e,t,r){let n=!1;const wrapper=(...o)=>{if(!n)return e.removeListener(t,wrapper),n=!0,0===o.length?r.call(e):r.apply(e,o)};return wrapper.listener=r,wrapper}function _getMaxListeners(e){return e._maxListeners??k.defaultMaxListeners}function _listeners(e,t,r){let n=e._events[t];return"function"==typeof n&&(n=[n]),r?n.map((e=>e.listener||e)):n}function _checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}const P=globalThis.EventEmitter||k;class _Readable extends P{__unenv__=!0;readableEncoding=null;readableEnded=!0;readableFlowing=!1;readableHighWaterMark=0;readableLength=0;readableObjectMode=!1;readableAborted=!1;readableDidRead=!1;closed=!1;errored=null;readable=!1;destroyed=!1;static from(e,t){return new _Readable(t)}constructor(e){super()}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,t){}wrap(e){return this}push(e,t){return!1}_destroy(e,t){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,t){return{}}compose(e,t){throw new Error("[unenv] Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}async*[Symbol.asyncIterator](){throw createNotImplementedError("Readable.asyncIterator")}iterator(e){throw createNotImplementedError("Readable.iterator")}map(e,t){throw createNotImplementedError("Readable.map")}filter(e,t){throw createNotImplementedError("Readable.filter")}forEach(e,t){throw createNotImplementedError("Readable.forEach")}reduce(e,t,r){throw createNotImplementedError("Readable.reduce")}find(e,t){throw createNotImplementedError("Readable.find")}findIndex(e,t){throw createNotImplementedError("Readable.findIndex")}some(e,t){throw createNotImplementedError("Readable.some")}toArray(e){throw createNotImplementedError("Readable.toArray")}every(e,t){throw createNotImplementedError("Readable.every")}flatMap(e,t){throw createNotImplementedError("Readable.flatMap")}drop(e,t){throw createNotImplementedError("Readable.drop")}take(e,t){throw createNotImplementedError("Readable.take")}asIndexedPairs(e){throw createNotImplementedError("Readable.asIndexedPairs")}}const $=globalThis.Readable||_Readable;const L=globalThis.Writable||class extends P{__unenv__=!0;writable=!0;writableEnded=!1;writableFinished=!1;writableHighWaterMark=0;writableLength=0;writableObjectMode=!1;writableCorked=0;closed=!1;errored=null;writableNeedDrain=!1;destroyed=!1;_data;_encoding="utf-8";constructor(e){super()}pipe(e,t){return{}}_write(e,t,r){if(this.writableEnded)r&&r();else{if(void 0===this._data)this._data=e;else{const r="string"==typeof this._data?l.from(this._data,this._encoding||t||"utf8"):this._data,n="string"==typeof e?l.from(e,t||this._encoding||"utf8"):e;this._data=l.concat([r,n])}this._encoding=t,r&&r()}}_writev(e,t){}_destroy(e,t){}_final(e){}write(e,t,r){const n="string"==typeof t?this._encoding:"utf-8",o="function"==typeof t?t:"function"==typeof r?r:void 0;return this._write(e,n,o),!0}setDefaultEncoding(e){return this}end(e,t,r){const n="function"==typeof e?e:"function"==typeof t?t:"function"==typeof r?r:void 0;if(this.writableEnded)return n&&n(),this;const o=e===n?void 0:e;if(o){const e=t===n?void 0:t;this.write(o,e,n)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,t){throw new Error("[h3] Method not implemented.")}},x=class{allowHalfOpen=!0;_destroy;constructor(e=new $,t=new L){Object.assign(this,e),Object.assign(this,t),this._destroy=function(...e){return function(...t){for(const r of e)r(...t)}}(e._destroy,t._destroy)}};function getDuplex(){return Object.assign(x.prototype,$.prototype),Object.assign(x.prototype,L.prototype),x}const N=getDuplex(),M=globalThis.Duplex||N;class Socket extends M{__unenv__=!0;bufferSize=0;bytesRead=0;bytesWritten=0;connecting=!1;destroyed=!1;pending=!1;localAddress="";localPort=0;remoteAddress="";remoteFamily="";remotePort=0;autoSelectFamilyAttemptedAddresses=[];readyState="readOnly";constructor(e){super()}write(e,t,r){return!1}connect(e,t,r){return this}end(e,t,r){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,t){return this}setNoDelay(e){return this}setKeepAlive(e,t){return this}address(){return{}}unref(){return this}ref(){return this}destroySoon(){this.destroy()}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class IncomingMessage extends ${__unenv__={};aborted=!1;httpVersion="1.1";httpVersionMajor=1;httpVersionMinor=1;complete=!0;connection;socket;headers={};trailers={};method="GET";url="/";statusCode=200;statusMessage="";closed=!1;errored=null;readable=!1;constructor(e){super(),this.socket=this.connection=e||new Socket}get rawHeaders(){return function(e){const t=[];for(const r in e)if(Array.isArray(e[r]))for(const n of e[r])t.push(r,n);else t.push(r,e[r]);return t}(this.headers)}get rawTrailers(){return[]}setTimeout(e,t){return this}get headersDistinct(){return _distinct(this.headers)}get trailersDistinct(){return _distinct(this.trailers)}}function _distinct(e){const t={};for(const[r,n]of Object.entries(e))r&&(t[r]=(Array.isArray(n)?n:[n]).filter(Boolean));return t}class ServerResponse extends L{__unenv__=!0;statusCode=200;statusMessage="";upgrading=!1;chunkedEncoding=!1;shouldKeepAlive=!1;useChunkedEncodingByDefault=!1;sendDate=!1;finished=!1;headersSent=!1;strictContentLength=!1;connection=null;socket=null;req;_headers={};constructor(e){super(),this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,t,r){e&&(this.statusCode=e),"string"==typeof t&&(this.statusMessage=t,t=void 0);const n=r||t;if(n)if(Array.isArray(n));else for(const e in n)this.setHeader(e,n[e]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,t){return this}appendHeader(e,t){e=e.toLowerCase();const r=this._headers[e],n=[...Array.isArray(r)?r:[r],...Array.isArray(t)?t:[t]].filter(Boolean);return this._headers[e]=n.length>1?n:n[0],this}setHeader(e,t){return this._headers[e.toLowerCase()]=t,this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,t){"function"==typeof t&&t()}}function hasProp(e,t){try{return t in e}catch{return!1}}var U=Object.defineProperty,__publicField$1=(e,t,r)=>(((e,t,r)=>{t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class H3Error extends Error{constructor(e,t={}){super(e,t),__publicField$1(this,"statusCode",500),__publicField$1(this,"fatal",!1),__publicField$1(this,"unhandled",!1),__publicField$1(this,"statusMessage"),__publicField$1(this,"data"),__publicField$1(this,"cause"),t.cause&&!this.cause&&(this.cause=t.cause)}toJSON(){const e={message:this.message,statusCode:sanitizeStatusCode(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=sanitizeStatusMessage(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}function createError(e){if("string"==typeof e)return new H3Error(e);if(isError(e))return e;const t=new H3Error(e.message??e.statusMessage??"",{cause:e.cause||e});if(hasProp(e,"stack"))try{Object.defineProperty(t,"stack",{get:()=>e.stack})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=sanitizeStatusCode(e.statusCode,t.statusCode):e.status&&(t.statusCode=sanitizeStatusCode(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const e=t.statusMessage;sanitizeStatusMessage(t.statusMessage)!==e&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return void 0!==e.fatal&&(t.fatal=e.fatal),void 0!==e.unhandled&&(t.unhandled=e.unhandled),t}function isError(e){return!0===e?.constructor?.__h3_error__}function getRequestHeaders(e){const t={};for(const r in e.node.req.headers){const n=e.node.req.headers[r];t[r]=Array.isArray(n)?n.filter(Boolean).join(", "):n}return t}__publicField$1(H3Error,"__h3_error__",!0);const H=Symbol.for("h3RawBody"),q=Symbol.for("h3ParsedBody"),z=["PATCH","POST","PUT","DELETE"];function readRawBody(e,t="utf8"){!function(e,t,r){if(!function(e,t,r){if(r&&"HEAD"===e.method)return!0;if("string"==typeof t){if(e.method===t)return!0}else if(t.includes(e.method))return!0;return!1}(e,t,r))throw createError({statusCode:405,statusMessage:"HTTP method is not allowed."})}(e,z);const r=e._requestBody||e.web?.request?.body||e.node.req[H]||e.node.req.rawBody||e.node.req.body;if(r){const e=Promise.resolve(r).then((e=>l.isBuffer(e)?e:"function"==typeof e.pipeTo?new Promise(((t,r)=>{const n=[];e.pipeTo(new WritableStream({write(e){n.push(e)},close(){t(l.concat(n))},abort(e){r(e)}})).catch(r)})):"function"==typeof e.pipe?new Promise(((t,r)=>{const n=[];e.on("data",(e=>{n.push(e)})).on("end",(()=>{t(l.concat(n))})).on("error",r)})):e.constructor===Object?l.from(JSON.stringify(e)):l.from(e)));return t?e.then((e=>e.toString(t))):e}if(!Number.parseInt(e.node.req.headers["content-length"]||""))return Promise.resolve(void 0);const n=e.node.req[H]=new Promise(((t,r)=>{const n=[];e.node.req.on("error",(e=>{r(e)})).on("data",(e=>{n.push(e)})).on("end",(()=>{t(l.concat(n))}))}));return t?n.then((e=>e.toString(t))):n}async function readBody(e,t={}){const r=e.node.req;if(hasProp(r,q))return r[q];const n=r.headers["content-type"]||"",o=await readRawBody(e);let s;return s="application/json"===n?_parseJSON(o,t.strict??!0):n.startsWith("application/x-www-form-urlencoded")?function(e){const t=new URLSearchParams(e),r=Object.create(null);for(const[e,n]of t.entries())hasProp(r,e)?(Array.isArray(r[e])||(r[e]=[r[e]]),r[e].push(n)):r[e]=n;return r}(o):n.startsWith("text/")?o:_parseJSON(o,t.strict??!1),r[q]=s,s}function _parseJSON(e="",t){if(e)try{return destr(e,{strict:t})}catch{throw createError({statusCode:400,statusMessage:"Bad Request",message:"Invalid JSON body"})}}function handleCacheHeaders(e,t){const r=["public",...t.cacheControls||[]];let n=!1;if(void 0!==t.maxAge&&r.push("max-age="+ +t.maxAge,"s-maxage="+ +t.maxAge),t.modifiedTime){const r=new Date(t.modifiedTime),o=e.node.req.headers["if-modified-since"];e.node.res.setHeader("last-modified",r.toUTCString()),o&&new Date(o)>=t.modifiedTime&&(n=!0)}if(t.etag){e.node.res.setHeader("etag",t.etag);e.node.req.headers["if-none-match"]===t.etag&&(n=!0)}return e.node.res.setHeader("cache-control",r.join(", ")),!!n&&(e.node.res.statusCode=304,e.handled||e.node.res.end(),!0)}const D={html:"text/html",json:"application/json"},F=/[^\u0009\u0020-\u007E]/g;function sanitizeStatusMessage(e=""){return e.replace(F,"")}function sanitizeStatusCode(e,t=200){return e?("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999?t:e):t}function splitCookiesString(e){if(Array.isArray(e))return e.flatMap((e=>splitCookiesString(e)));if("string"!=typeof e)return[];const t=[];let r,n,o,s,i,a=0;const skipWhitespace=()=>{for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length};for(;a<e.length;){for(r=a,i=!1;skipWhitespace();)if(n=e.charAt(a),","===n){for(o=a,a+=1,skipWhitespace(),s=a;a<e.length&&(n=e.charAt(a),"="!==n&&";"!==n&&","!==n);)a+=1;a<e.length&&"="===e.charAt(a)?(i=!0,a=s,t.push(e.slice(r,o)),r=a):a=o+1}else a+=1;(!i||a>=e.length)&&t.push(e.slice(r,e.length))}return t}const W="undefined"==typeof setImmediate?e=>e():setImmediate;function send(e,t,r){return r&&function(e,t){t&&!e.node.res.getHeader("content-type")&&e.node.res.setHeader("content-type",t)}(e,r),new Promise((r=>{W((()=>{e.handled||e.node.res.end(t),r()}))}))}function setResponseStatus(e,t,r){t&&(e.node.res.statusCode=sanitizeStatusCode(t,e.node.res.statusCode)),r&&(e.node.res.statusMessage=sanitizeStatusMessage(r))}const setHeaders=function(e,t){for(const[r,n]of Object.entries(t))e.node.res.setHeader(r,n)};function setResponseHeader(e,t,r){e.node.res.setHeader(t,r)}function sendStream(e,t){if(!t||"object"!=typeof t)throw new Error("[h3] Invalid stream provided.");if(e.node.res._data=t,!e.node.res.socket)return e._handled=!0,Promise.resolve();if(hasProp(t,"pipeTo")&&"function"==typeof t.pipeTo)return t.pipeTo(new WritableStream({write(t){e.node.res.write(t)}})).then((()=>{e.node.res.end()}));if(hasProp(t,"pipe")&&"function"==typeof t.pipe)return new Promise(((r,n)=>{t.pipe(e.node.res),t.on&&(t.on("end",(()=>{e.node.res.end(),r()})),t.on("error",(e=>{n(e)}))),e.node.res.on("close",(()=>{t.abort&&t.abort()}))}));throw new Error("[h3] Invalid or incompatible stream provided.")}function sendWebResponse(e,t){for(const[r,n]of t.headers)"set-cookie"===r?e.node.res.appendHeader(r,splitCookiesString(n)):e.node.res.setHeader(r,n);if(t.status&&(e.node.res.statusCode=sanitizeStatusCode(t.status,e.node.res.statusCode)),t.statusText&&(e.node.res.statusMessage=sanitizeStatusMessage(t.statusText)),t.redirected&&e.node.res.setHeader("location",t.url),t.body)return sendStream(e,t.body);e.node.res.end()}const K=new Set(["PATCH","POST","PUT","DELETE"]),V=new Set(["transfer-encoding","connection","keep-alive","upgrade","expect","host"]);async function proxyRequest(e,t,r={}){let n,o;K.has(e.method)&&(r.streamRequest?(n=function(e){if(z.includes(e.method))return e.web?.request?.body||e._requestBody||new ReadableStream({start:t=>{e.node.req.on("data",(e=>{t.enqueue(e)})),e.node.req.on("end",(()=>{t.close()})),e.node.req.on("error",(e=>{t.error(e)}))}})}(e),o="half"):n=await readRawBody(e,!1).catch((()=>{})));const s=r.fetchOptions?.method||e.method,i=function(e,...t){const r=t.filter(Boolean);if(0===r.length)return e;const n=new Headers(e);for(const e of r)for(const[t,r]of Object.entries(e))void 0!==r&&n.set(t,r);return n}(getProxyRequestHeaders(e),r.fetchOptions?.headers,r.headers);return async function(e,t,r={}){const n=await _getFetch(r.fetch)(t,{headers:r.headers,ignoreResponseError:!0,...r.fetchOptions});e.node.res.statusCode=sanitizeStatusCode(n.status,e.node.res.statusCode),e.node.res.statusMessage=sanitizeStatusMessage(n.statusText);const o=[];for(const[t,r]of n.headers.entries())"content-encoding"!==t&&"content-length"!==t&&("set-cookie"!==t?e.node.res.setHeader(t,r):o.push(...splitCookiesString(r)));o.length>0&&e.node.res.setHeader("set-cookie",o.map((e=>(r.cookieDomainRewrite&&(e=rewriteCookieProperty(e,r.cookieDomainRewrite,"domain")),r.cookiePathRewrite&&(e=rewriteCookieProperty(e,r.cookiePathRewrite,"path")),e))));r.onResponse&&await r.onResponse(e,n);if(void 0!==n._data)return n._data;if(e.handled)return;if(!1===r.sendStream){const t=new Uint8Array(await n.arrayBuffer());return e.node.res.end(t)}if(n.body)for await(const t of n.body)e.node.res.write(t);return e.node.res.end()}(e,t,{...r,fetchOptions:{method:s,body:n,duplex:o,...r.fetchOptions,headers:i}})}function getProxyRequestHeaders(e){const t=Object.create(null),r=getRequestHeaders(e);for(const e in r)V.has(e)||(t[e]=r[e]);return t}function fetchWithEvent(e,t,r,n){return _getFetch(n?.fetch)(t,{...r,context:r?.context||e.context,headers:{...getProxyRequestHeaders(e),...r?.headers}})}function _getFetch(e){if(e)return e;if(globalThis.fetch)return globalThis.fetch;throw new Error("fetch is not available. Try importing `node-fetch-native/polyfill` for Node.js.")}function rewriteCookieProperty(e,t,r){const n="string"==typeof t?{"*":t}:t;return e.replace(new RegExp(`(;\\s*${r}=)([^;]+)`,"gi"),((e,t,r)=>{let o;if(r in n)o=n[r];else{if(!("*"in n))return e;o=n["*"]}return o?t+o:""}))}var J=Object.defineProperty,__publicField=(e,t,r)=>(((e,t,r)=>{t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class H3Event{constructor(e,t){__publicField(this,"__is_event__",!0),__publicField(this,"node"),__publicField(this,"web"),__publicField(this,"context",{}),__publicField(this,"_method"),__publicField(this,"_path"),__publicField(this,"_headers"),__publicField(this,"_requestBody"),__publicField(this,"_handled",!1),this.node={req:e,res:t}}get method(){return this._method||(this._method=(this.node.req.method||"GET").toUpperCase()),this._method}get path(){return this._path||this.node.req.url||"/"}get headers(){return this._headers||(this._headers=function(e){const t=new Headers;for(const[r,n]of Object.entries(e))if(Array.isArray(n))for(const e of n)t.append(r,e);else n&&t.set(r,n);return t}(this.node.req.headers)),this._headers}get handled(){return this._handled||this.node.res.writableEnded||this.node.res.headersSent}respondWith(e){return Promise.resolve(e).then((e=>sendWebResponse(this,e)))}toString(){return`[${this.method}] ${this.path}`}toJSON(){return this.toString()}get req(){return this.node.req}get res(){return this.node.res}}function isEvent(e){return hasProp(e,"__is_event__")}function createEvent(e,t){return new H3Event(e,t)}function defineEventHandler(e){if("function"==typeof e)return Object.assign(e,{__is_handler__:!0});const t={onRequest:_normalizeArray(e.onRequest),onBeforeResponse:_normalizeArray(e.onBeforeResponse)};return Object.assign((r=>async function(e,t,r){if(r.onRequest)for(const t of r.onRequest)if(await t(e),e.handled)return;const n=await t(e),o={body:n};if(r.onBeforeResponse)for(const t of r.onBeforeResponse)await t(e,o);return o.body}(r,e.handler,t)),{__is_handler__:!0})}function _normalizeArray(e){return e?Array.isArray(e)?e:[e]:void 0}const Y=defineEventHandler;function isEventHandler(e){return hasProp(e,"__is_handler__")}function toEventHandler(e,t,r){return isEventHandler(e)||console.warn("[h3] Implicit event handler conversion is deprecated. Use `eventHandler()` or `fromNodeMiddleware()` to define event handlers.",r&&"/"!==r?`\n     Route: ${r}`:"",`\n     Handler: ${e}`),e}const lazyEventHandler=function(e){let t,r;return Y((n=>r?r(n):(r?Promise.resolve(r):(t||(t=Promise.resolve(e()).then((e=>{const t=e.default||e;if("function"!=typeof t)throw new TypeError("Invalid lazy handler result. It should be a function:",t);return r=toEventHandler(e.default||e),r}))),t)).then((e=>e(n)))))};function createApp(e={}){const t=[],r=function(e,t){const r=t.debug?2:void 0;return Y((async n=>{n.node.req.originalUrl=n.node.req.originalUrl||n.node.req.url||"/";const o=n._path||n.node.req.url||"/";let s;t.onRequest&&await t.onRequest(n);for(const i of e){if(i.route.length>1){if(!o.startsWith(i.route))continue;s=o.slice(i.route.length)||"/"}else s=o;if(i.match&&!i.match(s,n))continue;n._path=s,n.node.req.url=s;const e=await i.handler(n),a=void 0===e?void 0:await e;if(void 0!==a){const e={body:a};return t.onBeforeResponse&&await t.onBeforeResponse(n,e),await handleHandlerResponse(n,e.body,r),void(t.onAfterResponse&&await t.onAfterResponse(n,e))}if(n.handled)return void(t.onAfterResponse&&await t.onAfterResponse(n,void 0))}if(!n.handled)throw createError({statusCode:404,statusMessage:`Cannot find any path matching ${n.path||"/"}.`});t.onAfterResponse&&await t.onAfterResponse(n,void 0)}))}(t,e),n={use:(e,t,r)=>use(n,e,t,r),handler:r,stack:t,options:e};return n}function use(e,t,r,n){if(Array.isArray(t))for(const o of t)use(e,o,r,n);else if(Array.isArray(r))for(const o of r)use(e,t,o,n);else"string"==typeof t?e.stack.push(normalizeLayer({...n,route:t,handler:r})):"function"==typeof t?e.stack.push(normalizeLayer({...r,route:"/",handler:t})):e.stack.push(normalizeLayer({...t}));return e}function normalizeLayer(e){let t=e.handler;return t.handler&&(t=t.handler),e.lazy?t=lazyEventHandler(t):isEventHandler(t)||(t=toEventHandler(t,0,e.route)),{route:withoutTrailingSlash(e.route),match:e.match,handler:t}}function handleHandlerResponse(e,t,r){if(null===t)return function(e,t){if(e.handled)return;t||200===e.node.res.statusCode||(t=e.node.res.statusCode);const r=sanitizeStatusCode(t,204);204===r&&e.node.res.removeHeader("content-length"),e.node.res.writeHead(r),e.node.res.end()}(e);if(t){if(n=t,"undefined"!=typeof Response&&n instanceof Response)return sendWebResponse(e,t);if(function(e){if(!e||"object"!=typeof e)return!1;if("function"==typeof e.pipe){if("function"==typeof e._read)return!0;if("function"==typeof e.abort)return!0}return"function"==typeof e.pipeTo}(t))return sendStream(e,t);if(t.buffer)return send(e,t);if(t.arrayBuffer&&"function"==typeof t.arrayBuffer)return t.arrayBuffer().then((r=>send(e,l.from(r),t.type)));if(t instanceof Error)throw createError(t);if("function"==typeof t.end)return!0}var n;const o=typeof t;if("string"===o)return send(e,t,D.html);if("object"===o||"boolean"===o||"number"===o)return send(e,JSON.stringify(t,void 0,r),D.json);if("bigint"===o)return send(e,t.toString(),D.json);throw createError({statusCode:500,statusMessage:`[h3] Cannot send ${o} as response.`})}const G=["connect","delete","get","head","options","post","put","trace","patch"];function toNodeListener(e){return async function(t,r){const n=createEvent(t,r);try{await e.handler(n)}catch(t){const r=createError(t);if(isError(t)||(r.unhandled=!0),e.options.onError&&await e.options.onError(r,n),n.handled)return;(r.unhandled||r.fatal)&&console.error("[h3]",r.fatal?"[fatal]":"[unhandled]",r),await function(e,t,r){if(e.handled)return;const n=isError(t)?t:createError(t),o={statusCode:n.statusCode,statusMessage:n.statusMessage,stack:[],data:n.data};if(r&&(o.stack=(n.stack||"").split("\n").map((e=>e.trim()))),e.handled)return;setResponseStatus(e,Number.parseInt(n.statusCode),n.statusMessage),e.node.res.setHeader("content-type",D.json),e.node.res.end(JSON.stringify(o,void 0,2))}(n,r,!!e.options.debug)}}}class FetchError extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}const Q=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(e="GET"){return Q.has(e.toUpperCase())}const X=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Z=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function mergeFetchOptions(e,t,r=globalThis.Headers){const n={...t,...e};if(t?.params&&e?.params&&(n.params={...t?.params,...e?.params}),t?.query&&e?.query&&(n.query={...t?.query,...e?.query}),t?.headers&&e?.headers){n.headers=new r(t?.headers||{});for(const[t,o]of new r(e?.headers||{}))n.headers.set(t,o)}return n}const ee=new Set([408,409,425,429,500,502,503,504]),te=new Set([101,204,205,304]);function createFetch$1(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=e;async function onError(e){const t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:isPayloadMethod(e.options.method)?0:1;const r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):ee.has(r))){const r=e.options.retryDelay||0;return r>0&&await new Promise((e=>setTimeout(e,r))),$fetchRaw(e.request,{...e.options,retry:t-1,timeout:e.options.timeout})}}const r=function(e){const t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",o=`[${r}] ${JSON.stringify(n)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",i=new FetchError(`${o}: ${s}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(const t of["request","options","response"])Object.defineProperty(i,t,{get:()=>e[t]});for(const[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,t,{get:()=>e.response&&e.response[r]});return i}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,$fetchRaw),r}const $fetchRaw=async function(o,s={}){const i={request:o,options:mergeFetchOptions(s,e.defaults,r),response:void 0,error:void 0};if(i.options.method=i.options.method?.toUpperCase(),i.options.onRequest&&await i.options.onRequest(i),"string"==typeof i.request&&(i.options.baseURL&&(i.request=function(e,t){if(isEmptyURL(t)||hasProtocol(e))return e;const r=withoutTrailingSlash(t);return e.startsWith(r)?e:joinURL(r,e)}(i.request,i.options.baseURL)),(i.options.query||i.options.params)&&(i.request=withQuery(i.request,{...i.options.params,...i.options.query}))),i.options.body&&isPayloadMethod(i.options.method)&&(!function(e){if(void 0===e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(i.options.body)?("pipeTo"in i.options.body&&"function"==typeof i.options.body.pipeTo||"function"==typeof i.options.body.pipe)&&("duplex"in i.options||(i.options.duplex="half")):(i.options.body="string"==typeof i.options.body?i.options.body:JSON.stringify(i.options.body),i.options.headers=new r(i.options.headers||{}),i.options.headers.has("content-type")||i.options.headers.set("content-type","application/json"),i.options.headers.has("accept")||i.options.headers.set("accept","application/json"))),!i.options.signal&&i.options.timeout){const e=new n;setTimeout((()=>e.abort()),i.options.timeout),i.options.signal=e.signal}try{i.response=await t(i.request,i.options)}catch(e){return i.error=e,i.options.onRequestError&&await i.options.onRequestError(i),await onError(i)}if(i.response.body&&!te.has(i.response.status)&&"HEAD"!==i.options.method){const e=(i.options.parseResponse?"json":i.options.responseType)||function(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Z.test(t)?"json":X.has(t)||t.startsWith("text/")?"text":"blob"}(i.response.headers.get("content-type")||"");switch(e){case"json":{const e=await i.response.text(),t=i.options.parseResponse||destr;i.response._data=t(e);break}case"stream":i.response._data=i.response.body;break;default:i.response._data=await i.response[e]()}}return i.options.onResponse&&await i.options.onResponse(i),!i.options.ignoreResponseError&&i.response.status>=400&&i.response.status<600?(i.options.onResponseError&&await i.options.onResponseError(i),await onError(i)):i.response},$fetch=async function(e,t){return(await $fetchRaw(e,t))._data};return $fetch.raw=$fetchRaw,$fetch.native=(...e)=>t(...e),$fetch.create=(t={})=>createFetch$1({...e,defaults:{...e.defaults,...t}}),$fetch}const re=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),ne=re.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),oe=re.Headers,se=re.AbortController;createFetch$1({fetch:ne,Headers:oe,AbortController:se});const ie=new Set([101,204,205,304]);function flatHooks(e,t={},r){for(const n in e){const o=e[n],s=r?`${r}:${n}`:n;"object"==typeof o&&null!==o?flatHooks(o,t,s):"function"==typeof o&&(t[s]=o)}return t}const ae={run:e=>e()},ue=void 0!==console.createTask?console.createTask:()=>ae;function serialTaskCaller(e,t){const r=t.shift(),n=ue(r);return e.reduce(((e,r)=>e.then((()=>n.run((()=>r(...t)))))),Promise.resolve())}function parallelTaskCaller(e,t){const r=t.shift(),n=ue(r);return Promise.all(e.map((e=>n.run((()=>e(...t))))))}function callEachWith(e,t){for(const r of[...e])r(t)}class Hookable{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,r={}){if(!e||"function"!=typeof t)return()=>{};const n=e;let o;for(;this._deprecatedHooks[e];)o=this._deprecatedHooks[e],e=o.to;if(o&&!r.allowDeprecated){let e=o.message;e||(e=`${n} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let r,_function=(...e)=>("function"==typeof r&&r(),r=void 0,_function=void 0,t(...e));return r=this.hook(e,_function),r}removeHook(e,t){if(this._hooks[e]){const r=this._hooks[e].indexOf(t);-1!==r&&this._hooks[e].splice(r,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const r=this._hooks[e]||[];delete this._hooks[e];for(const t of r)this.hook(e,t)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=flatHooks(e),r=Object.keys(t).map((e=>this.hook(e,t[e])));return()=>{for(const e of r.splice(0,r.length))e()}}removeHooks(e){const t=flatHooks(e);for(const e in t)this.removeHook(e,t[e])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(serialTaskCaller,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(parallelTaskCaller,e,...t)}callHookWith(e,t,...r){const n=this._before||this._after?{name:t,args:r,context:{}}:void 0;this._before&&callEachWith(this._before,n);const o=e(t in this._hooks?[...this._hooks[t]]:[],r);return o instanceof Promise?o.finally((()=>{this._after&&n&&callEachWith(this._after,n)})):(this._after&&n&&callEachWith(this._after,n),o)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}const ce=/\d/,le=["-","_","/","."];function isUppercase(e=""){if(!ce.test(e))return e.toUpperCase()===e}function kebabCase(e,t){return e?(Array.isArray(e)?e:function(e,t){const r=t??le,n=[];if(!e||"string"!=typeof e)return n;let o,s,i="";for(const t of e){const e=r.includes(t);if(!0===e){n.push(i),i="",o=void 0;continue}const a=isUppercase(t);if(!1===s){if(!1===o&&!0===a){n.push(i),i=t,o=a;continue}if(!0===o&&!1===a&&i.length>1){const e=i.at(-1);n.push(i.slice(0,Math.max(0,i.length-1))),i=e+t,o=a;continue}}i+=t,o=a,s=e}return n.push(i),n}(e)).map((e=>e.toLowerCase())).join(t??"-"):""}function klona(e){if("object"!=typeof e)return e;var t,r,n=Object.prototype.toString.call(e);if("[object Object]"===n){if(e.constructor!==Object&&"function"==typeof e.constructor)for(t in r=new e.constructor,e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=klona(e[t]));else for(t in r={},e)"__proto__"===t?Object.defineProperty(r,t,{value:klona(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=klona(e[t]);return r}if("[object Array]"===n){for(t=e.length,r=Array(t);t--;)r[t]=klona(e[t]);return r}return"[object Set]"===n?(r=new Set,e.forEach((function(e){r.add(klona(e))})),r):"[object Map]"===n?(r=new Map,e.forEach((function(e,t){r.set(klona(t),klona(e))})),r):"[object Date]"===n?new Date(+e):"[object RegExp]"===n?((r=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,r):"[object DataView]"===n?new e.constructor(klona(e.buffer)):"[object ArrayBuffer]"===n?e.slice(0):"Array]"===n.slice(-6)?new e.constructor(e):e}const fe=S({}),de={app:{baseURL:"/"},nitro:{routeRules:{}}},he="NITRO_",pe=de.nitro.envPrefix??process.env.NITRO_ENV_PREFIX??"_",ye=_deepFreeze(_applyEnv(klona(de)));function useRuntimeConfig(e){if(!e)return ye;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const t=klona(de);return _applyEnv(t),e.context.nitro.runtimeConfig=t,t}function _getEnv(e){const t=(r=e,kebabCase(r||"","_")).toUpperCase();var r;return destr(process.env[he+t]??process.env[pe+t])}function _isObject(e){return"object"==typeof e&&!Array.isArray(e)}function _applyEnv(e,t=""){for(const r in e){const n=t?`${t}_${r}`:r,o=_getEnv(n);_isObject(e[r])?(_isObject(o)&&(e[r]={...e[r],...o}),_applyEnv(e[r],n)):e[r]=o??e[r]}return e}function _deepFreeze(e){const t=Object.getOwnPropertyNames(e);for(const r of t){const t=e[r];t&&"object"==typeof t&&_deepFreeze(t)}return Object.freeze(e)}_deepFreeze(klona(fe)),new Proxy(Object.create(null),{get:(e,t)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const r=useRuntimeConfig();if(t in r)return r[t]}});const ge=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function objectHash(e,t){const r=createHasher(t=t?{...ge,...t}:ge);return r.dispatch(e),r.toString()}const me=Object.freeze(["prototype","__proto__","constructor"]);function createHasher(e){let t="",r=new Map;const write=e=>{t+=e};return{toString:()=>t,getContext:()=>r,dispatch(t){e.replacer&&(t=e.replacer(t));return this[null===t?"null":typeof t](t)},object(t){if(t&&"function"==typeof t.toJSON)return this.object(t.toJSON());const n=Object.prototype.toString.call(t);let o="";const s=n.length;o=s<10?"unknown:["+n+"]":n.slice(8,s-1),o=o.toLowerCase();let i=null;if(void 0!==(i=r.get(t)))return this.dispatch("[CIRCULAR:"+i+"]");if(r.set(t,r.size),void 0!==l&&l.isBuffer&&l.isBuffer(t))return write("buffer:"),write(t.toString("utf8"));if("object"!==o&&"function"!==o&&"asyncfunction"!==o)this[o]?this[o](t):e.ignoreUnknown||this.unkown(t,o);else{let r=Object.keys(t);e.unorderedObjects&&(r=r.sort());let n=[];!1===e.respectType||isNativeFunction(t)||(n=me),e.excludeKeys&&(r=r.filter((t=>!e.excludeKeys(t))),n=n.filter((t=>!e.excludeKeys(t)))),write("object:"+(r.length+n.length)+":");const dispatchForKey=r=>{this.dispatch(r),write(":"),e.excludeValues||this.dispatch(t[r]),write(",")};for(const e of r)dispatchForKey(e);for(const e of n)dispatchForKey(e)}},array(t,n){if(n=void 0===n?!1!==e.unorderedArrays:n,write("array:"+t.length+":"),!n||t.length<=1){for(const e of t)this.dispatch(e);return}const o=new Map,s=t.map((t=>{const r=createHasher(e);r.dispatch(t);for(const[e,t]of r.getContext())o.set(e,t);return r.toString()}));return r=o,s.sort(),this.array(s,!1)},date:e=>write("date:"+e.toJSON()),symbol:e=>write("symbol:"+e.toString()),unkown(e,t){if(write(t),e)return write(":"),e&&"function"==typeof e.entries?this.array(Array.from(e.entries()),!0):void 0},error:e=>write("error:"+e.toString()),boolean:e=>write("bool:"+e),string(e){write("string:"+e.length+":"),write(e)},function(t){write("fn:"),isNativeFunction(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.object(t)},number:e=>write("number:"+e),xml:e=>write("xml:"+e.toString()),null:()=>write("Null"),undefined:()=>write("Undefined"),regexp:e=>write("regex:"+e.toString()),uint8array(e){return write("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return write("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return write("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return write("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return write("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return write("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return write("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return write("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return write("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return write("arraybuffer:"),this.dispatch(new Uint8Array(e))},url:e=>write("url:"+e.toString()),map(t){write("map:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},set(t){write("set:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},file(e){return write("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(e.ignoreUnknown)return write("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>write("domwindow"),bigint:e=>write("bigint:"+e.toString()),process:()=>write("process"),timer:()=>write("timer"),pipe:()=>write("pipe"),tcp:()=>write("tcp"),udp:()=>write("udp"),tty:()=>write("tty"),statwatcher:()=>write("statwatcher"),securecontext:()=>write("securecontext"),connection:()=>write("connection"),zlib:()=>write("zlib"),context:()=>write("context"),nodescript:()=>write("nodescript"),httpparser:()=>write("httpparser"),dataview:()=>write("dataview"),signal:()=>write("signal"),fsevent:()=>write("fsevent"),tlswrap:()=>write("tlswrap")}}const be="[native code] }",ve=be.length;function isNativeFunction(e){return"function"==typeof e&&Function.prototype.toString.call(e).slice(-ve)===be}class WordArray{constructor(e,t){e=this.words=e||[],this.sigBytes=void 0===t?4*e.length:t}toString(e){return(e||we).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const r=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=r<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new WordArray([...this.words])}}const we={stringify(e){const t=[];for(let r=0;r<e.sigBytes;r++){const n=e.words[r>>>2]>>>24-r%4*8&255;t.push((n>>>4).toString(16),(15&n).toString(16))}return t.join("")}},_e={stringify(e){const t=[];for(let r=0;r<e.sigBytes;r+=3){const n=(e.words[r>>>2]>>>24-r%4*8&255)<<16|(e.words[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e.words[r+2>>>2]>>>24-(r+2)%4*8&255;for(let o=0;o<4&&8*r+6*o<8*e.sigBytes;o++)t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n>>>6*(3-o)&63))}return t.join("")}},Ee={parse(e){const t=e.length,r=[];for(let n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new WordArray(r,t)}},Be={parse:e=>Ee.parse(unescape(encodeURIComponent(e)))};class BufferedBlockAlgorithm{constructor(){this._data=new WordArray,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new WordArray,this._nDataBytes=0}_append(e){"string"==typeof e&&(e=Be.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,t){}_process(e){let t,r=this._data.sigBytes/(4*this.blockSize);r=e?Math.ceil(r):Math.max((0|r)-this._minBufferSize,0);const n=r*this.blockSize,o=Math.min(4*n,this._data.sigBytes);if(n){for(let e=0;e<n;e+=this.blockSize)this._doProcessBlock(this._data.words,e);t=this._data.words.splice(0,n),this._data.sigBytes-=o}return new WordArray(t,o)}}class Hasher extends BufferedBlockAlgorithm{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Ae=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Re=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Oe=[];class SHA256 extends Hasher{constructor(){super(...arguments),this._hash=new WordArray([...Ae])}reset(){super.reset(),this._hash=new WordArray([...Ae])}_doProcessBlock(e,t){const r=this._hash.words;let n=r[0],o=r[1],s=r[2],i=r[3],a=r[4],u=r[5],c=r[6],l=r[7];for(let r=0;r<64;r++){if(r<16)Oe[r]=0|e[t+r];else{const e=Oe[r-15],t=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3,n=Oe[r-2],o=(n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10;Oe[r]=t+Oe[r-7]+o+Oe[r-16]}const f=n&o^n&s^o&s,d=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),h=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+Re[r]+Oe[r];l=c,c=u,u=a,a=i+h|0,i=s,s=o,o=n,n=h+(d+f)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+s|0,r[3]=r[3]+i|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+l|0}finalize(e){super.finalize(e);const t=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(r+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function hash(e,t={}){const r="string"==typeof e?e:objectHash(e,t);return(n=r,(new SHA256).finalize(n).toString(_e)).slice(0,10);var n}function asyncCall(e,...t){try{return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}var r}function stringify(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return stringify(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(void 0===typeof l)throw new TypeError("[unstorage] Buffer is not supported!")}const Ie="base64:";const Te=["hasItem","getItem","getItemRaw","setItem","setItemRaw","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function normalizeKey$1(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...e){return normalizeKey$1(e.join(":"))}function normalizeBaseKey(e){return(e=normalizeKey$1(e))?e+":":""}const memory=()=>{const e=new Map;return{name:"memory",options:{},hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>Array.from(e.keys()),clear(){e.clear()},dispose(){e.clear()}}};function watch(e,t,r){return e.watch?e.watch(((e,n)=>t(e,r+n))):()=>{}}async function dispose(e){"function"==typeof e.dispose&&await asyncCall(e.dispose)}const je={},normalizeKey=function(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""},Se={getKeys:()=>Promise.resolve(Object.keys(je)),hasItem:e=>(e=normalizeKey(e),Promise.resolve(e in je)),getItem:e=>(e=normalizeKey(e),Promise.resolve(je[e]?je[e].import():null)),getMeta:e=>(e=normalizeKey(e),Promise.resolve(je[e]?je[e].meta:{}))},Ce=function(e={}){const t={mounts:{"":e.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=e=>{for(const r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},getMounts=(e,r)=>t.mountpoints.filter((t=>t.startsWith(e)||r&&e.startsWith(t))).map((r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]}))),onChange=(e,r)=>{if(t.watching){r=normalizeKey$1(r);for(const n of t.watchListeners)n(e,r)}},stopWatch=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},runBatch=(e,t,r)=>{const n=new Map,getBatch=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(const r of e){const e="string"==typeof r,n=normalizeKey$1(e?r:r.key),o=e?void 0:r.value,s=e||!r.options?t:{...t,...r.options},i=getMount(n);getBatch(i).items.push({key:n,value:o,relativeKey:i.relativeKey,options:s})}return Promise.all([...n.values()].map((e=>r(e)))).then((e=>e.flat()))},r={hasItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:r,driver:n}=getMount(e);return asyncCall(n.hasItem,r,t)},getItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:r,driver:n}=getMount(e);return asyncCall(n.getItem,r,t).then((e=>destr(e)))},getItems:(e,t)=>runBatch(e,t,(e=>e.driver.getItems?asyncCall(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:joinKeys(e.base,t.key),value:destr(t.value)}))))):Promise.all(e.items.map((t=>asyncCall(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:destr(e)})))))))),getItemRaw(e,t={}){e=normalizeKey$1(e);const{relativeKey:r,driver:n}=getMount(e);return n.getItemRaw?asyncCall(n.getItemRaw,r,t):asyncCall(n.getItem,r,t).then((e=>function(e){return"string"!=typeof e?e:e.startsWith(Ie)?(checkBufferSupport(),l.from(e.slice(Ie.length),"base64")):e}(e)))},async setItem(e,t,n={}){if(void 0===t)return r.removeItem(e);e=normalizeKey$1(e);const{relativeKey:o,driver:s}=getMount(e);s.setItem&&(await asyncCall(s.setItem,o,stringify(t),n),s.watch||onChange("update",e))},async setItems(e,t){await runBatch(e,t,(async e=>{e.driver.setItems&&await asyncCall(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:stringify(e.value),options:e.options}))),t),e.driver.setItem&&await Promise.all(e.items.map((t=>asyncCall(e.driver.setItem,t.relativeKey,stringify(t.value),t.options))))}))},async setItemRaw(e,t,n={}){if(void 0===t)return r.removeItem(e,n);e=normalizeKey$1(e);const{relativeKey:o,driver:s}=getMount(e);if(s.setItemRaw)await asyncCall(s.setItemRaw,o,t,n);else{if(!s.setItem)return;await asyncCall(s.setItem,o,function(e){if("string"==typeof e)return e;checkBufferSupport();const t=l.from(e).toString("base64");return Ie+t}(t),n)}s.watch||onChange("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=normalizeKey$1(e);const{relativeKey:r,driver:n}=getMount(e);n.removeItem&&(await asyncCall(n.removeItem,r,t),(t.removeMeta||t.removeMata)&&await asyncCall(n.removeItem,r+"$",t),n.watch||onChange("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=normalizeKey$1(e);const{relativeKey:r,driver:n}=getMount(e),o=Object.create(null);if(n.getMeta&&Object.assign(o,await asyncCall(n.getMeta,r,t)),!t.nativeOnly){const e=await asyncCall(n.getItem,r+"$",t).then((e=>destr(e)));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=normalizeBaseKey(e);const r=getMounts(e,!0);let n=[];const o=[];for(const e of r){const r=(await asyncCall(e.driver.getKeys,e.relativeBase,t)).map((t=>e.mountpoint+normalizeKey$1(t))).filter((e=>!n.some((t=>e.startsWith(t)))));o.push(...r),n=[e.mountpoint,...n.filter((t=>!t.startsWith(e.mountpoint)))]}return e?o.filter((t=>t.startsWith(e)&&!t.endsWith("$"))):o.filter((e=>!e.endsWith("$")))},async clear(e,t={}){e=normalizeBaseKey(e),await Promise.all(getMounts(e,!1).map((async e=>{if(e.driver.clear)return asyncCall(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(t.mounts).map((e=>dispose(e))))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await watch(t.mounts[e],onChange,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter((t=>t!==e)),0===t.watchListeners.length&&await stopWatch()}),async unwatch(){t.watchListeners=[],await stopWatch()},mount(e,n){if((e=normalizeBaseKey(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort(((e,t)=>t.length-e.length))),t.mounts[e]=n,t.watching&&Promise.resolve(watch(n,onChange,e)).then((r=>{t.unwatch[e]=r})).catch(console.error),r},async unmount(e,r=!0){(e=normalizeBaseKey(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e](),delete t.unwatch[e]),r&&await dispose(t.mounts[e]),t.mountpoints=t.mountpoints.filter((t=>t!==e)),delete t.mounts[e])},getMount(e=""){e=normalizeKey$1(e)+":";const t=getMount(e);return{driver:t.driver,base:t.base}},getMounts(e="",t={}){e=normalizeKey$1(e);return getMounts(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))}};return r}({});function useStorage(e=""){return e?function(e,t){if(!(t=normalizeBaseKey(t)))return e;const r={...e};for(const n of Te)r[n]=(r="",...o)=>e[n](t+r,...o);return r.getKeys=(r="",...n)=>e.getKeys(t+r,...n).then((e=>e.map((e=>e.slice(t.length))))),r}(Ce,e):Ce}Ce.mount("/assets",Se);const ke={name:"_",base:"/cache",swr:!0,maxAge:1};const cachedFunction=function(e,t={}){t={...ke,...t};const r={},n=t.group||"nitro/functions",o=t.name||e.name||"_",s=t.integrity||hash([e,t]),i=t.validate||(e=>void 0!==e.value);return async(...a)=>{const u=t.shouldBypassCache?.(...a);if(u)return e(...a);const c=await(t.getKey||getKey)(...a),l=t.shouldInvalidateCache?.(...a),f=await async function(e,a,u,c){const l=[t.base,n,o,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index"),f=await useStorage().getItem(l)||{},d=1e3*(t.maxAge??t.maxAge??0);d&&(f.expires=Date.now()+d);const h=u||f.integrity!==s||d&&Date.now()-(f.mtime||0)>d||!1===i(f),p=h?(async()=>{const n=r[e];n||(void 0!==f.value&&(t.staleMaxAge||0)>=0&&!1===t.swr&&(f.value=void 0,f.integrity=void 0,f.mtime=void 0,f.expires=void 0),r[e]=Promise.resolve(a()));try{f.value=await r[e]}catch(t){throw n||delete r[e],t}if(!n&&(f.mtime=Date.now(),f.integrity=s,delete r[e],!1!==i(f))){const e=useStorage().setItem(l,f).catch((e=>{console.error("[nitro] [cache] Cache write error.",e),useNitroApp().captureError(e,{event:c,tags:["cache"]})}));c&&c.waitUntil&&c.waitUntil(e)}})():Promise.resolve();return void 0===f.value?await p:h&&c&&c.waitUntil&&c.waitUntil(p),t.swr&&!1!==i(f)?(p.catch((e=>{console.error("[nitro] [cache] SWR handler error.",e),useNitroApp().captureError(e,{event:c,tags:["cache"]})})),f):p.then((()=>f))}(c,(()=>e(...a)),l,a[0]&&isEvent(a[0])?a[0]:void 0);let d=f.value;return t.transform&&(d=await t.transform(f,...a)||d),d}};function getKey(...e){return e.length>0?hash(e,{}):""}function escapeKey(e){return String(e).replace(/\W/g,"")}function cloneWithProxy(e,t){return new Proxy(e,{get:(e,r,n)=>r in t?t[r]:Reflect.get(e,r,n),set:(e,r,n,o)=>r in t?(t[r]=n,!0):Reflect.set(e,r,n,o)})}const cachedEventHandler=function(e,t=ke){const r=(t.varies||[]).filter(Boolean).map((e=>e.toLowerCase())).sort(),n={...t,getKey:async e=>{const n=await(t.getKey?.(e));if(n)return escapeKey(n);const o=e.node.req.originalUrl||e.node.req.url||e.path,s=`${escapeKey(decodeURI(parseURL(o).pathname)).slice(0,16)||"index"}.${hash(o)}`,i=r.map((t=>[t,e.node.req.headers[t]])).map((([e,t])=>`${escapeKey(e)}.${hash(t)}`));return[s,...i].join(":")},validate:e=>!!e.value&&(!(e.value.code>=400)&&(void 0!==e.value.body&&("undefined"!==e.value.headers.etag&&"undefined"!==e.value.headers["last-modified"]))),group:t.group||"nitro/handlers",integrity:t.integrity||hash([e,t])},o=cachedFunction((async n=>{const o={};for(const e of r)o[e]=n.node.req.headers[e];const s=cloneWithProxy(n.node.req,{headers:o}),i={};let a;const u=cloneWithProxy(n.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>i[e],setHeader(e,t){return i[e]=t,this},getHeaderNames:()=>Object.keys(i),hasHeader:e=>e in i,removeHeader(e){delete i[e]},getHeaders:()=>i,end(e,t,r){return"string"==typeof e&&(a=e),"function"==typeof t&&t(),"function"==typeof r&&r(),this},write(e,t,r){return"string"==typeof e&&(a=e),"function"==typeof t&&t(),"function"==typeof r&&r(),this},writeHead(e,t){if(this.statusCode=e,t)for(const e in t)this.setHeader(e,t[e]);return this}}),c=createEvent(s,u);c.context=n.context;const l=await e(c)||a,f=c.node.res.getHeaders();f.etag=String(f.Etag||f.etag||`W/"${hash(l)}"`),f["last-modified"]=String(f["Last-Modified"]||f["last-modified"]||(new Date).toUTCString());const d=[];t.swr?(t.maxAge&&d.push(`s-maxage=${t.maxAge}`),t.staleMaxAge?d.push(`stale-while-revalidate=${t.staleMaxAge}`):d.push("stale-while-revalidate")):t.maxAge&&d.push(`max-age=${t.maxAge}`),d.length>0&&(f["cache-control"]=d.join(", "));return{code:c.node.res.statusCode,headers:f,body:l}}),n);return defineEventHandler((async r=>{if(t.headersOnly){if(handleCacheHeaders(r,{maxAge:t.maxAge}))return;return e(r)}const n=await o(r);if(r.node.res.headersSent||r.node.res.writableEnded)return n.body;if(!handleCacheHeaders(r,{modifiedTime:new Date(n.headers["last-modified"]),etag:n.headers.etag,maxAge:t.maxAge})){r.node.res.statusCode=n.code;for(const e in n.headers){const t=n.headers[e];"set-cookie"===e?r.node.res.appendHeader(e,splitCookiesString(t)):r.node.res.setHeader(e,t)}return n.body}}))};function hasReqHeader(e,t,r){const n=function(e,t){return getRequestHeaders(e)[t.toLowerCase()]}(e,t);return n&&"string"==typeof n&&n.toLowerCase().includes(r)}function joinHeaders(e){return Array.isArray(e)?e.join(", "):String(e)}function normalizeCookieHeader(e=""){return splitCookiesString(joinHeaders(e))}function normalizeCookieHeaders(e){const t=new Headers;for(const[r,n]of e)if("set-cookie"===r)for(const e of normalizeCookieHeader(n))t.append("set-cookie",e);else t.set(r,joinHeaders(n));return t}const Pe=toRouteMatcher(createRouter$1({routes:useRuntimeConfig().nitro.routeRules}));function createRouteRulesHandler(e){return Y((t=>{const r=function(e){e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=getRouteRulesForPath(withoutBase(e.path.split("?")[0],useRuntimeConfig().app.baseURL)));return e.context._nitro.routeRules}(t);if(r.headers&&setHeaders(t,r.headers),r.redirect)return function(e,t,r=302){return e.node.res.statusCode=sanitizeStatusCode(r,e.node.res.statusCode),e.node.res.setHeader("location",t),send(e,`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${t.replace(/"/g,"%22")}"></head></html>`,D.html)}(t,r.redirect.to,r.redirect.statusCode);if(r.proxy){let n=r.proxy.to;if(n.endsWith("/**")){let e=t.path;const o=r.proxy._proxyStripBase;o&&(e=withoutBase(e,o)),n=joinURL(n.slice(0,-3),e)}else if(t.path.includes("?")){n=withQuery(n,parseQuery(parseURL(t.path).search))}return proxyRequest(t,n,{fetch:e.localFetch,...r.proxy})}}))}function getRouteRulesForPath(e){return j({},...Pe.matchAll(e).reverse())}const $e=[];const errorHandler=function(e,t){const{stack:r,statusCode:n,statusMessage:o,message:s}=function(e){const t="function"==typeof process.cwd?process.cwd():"/",r=(e.stack||"").split("\n").splice(1).filter((e=>e.includes("at "))).map((e=>({text:e.replace(t+"/","./").replace("webpack:/","").replace("file://","").trim(),internal:e.includes("node_modules")&&!e.includes(".cache")||e.includes("internal")||e.includes("new Promise")}))),n=e.statusCode||500;return{stack:r,statusCode:n,statusMessage:e.statusMessage??(404===n?"Not Found":""),message:e.message||e.toString()}}(e),i={url:t.path||"",statusCode:n,statusMessage:o,message:s,stack:void 0};if(e.unhandled||e.fatal){const t=["[nitro]","[request error]",e.unhandled&&"[unhandled]",e.fatal&&"[fatal]"].filter(Boolean).join(" ");console.error(t,e.message+"\n"+r.map((e=>"  "+e.text)).join("  \n"))}return setResponseStatus(t,n,o),function(e){return!hasReqHeader(e,"accept","text/html")&&(hasReqHeader(e,"accept","application/json")||hasReqHeader(e,"user-agent","curl/")||hasReqHeader(e,"user-agent","httpie/")||hasReqHeader(e,"sec-fetch-mode","cors")||e.path.startsWith("/api/")||e.path.endsWith(".json"))}(t)?(setResponseHeader(t,"Content-Type","application/json"),send(t,JSON.stringify(i))):(setResponseHeader(t,"Content-Type","text/html"),send(t,function(e){const t=e.statusCode||500,r=e.statusMessage||"Request Error";return`<!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <title>${t} ${r}</title>\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico/css/pico.min.css">\n  </head>\n  <body>\n    <main class="container">\n      <dialog open>\n        <article>\n          <header>\n            <h2>${t} ${r}</h2>\n          </header>\n          <code>\n            ${e.message}<br><br>\n            ${"\n"+(e.stack||[]).map((e=>`&nbsp;&nbsp;${e}`)).join("<br>")}\n          </code>\n          <footer>\n            <a href="/" onclick="event.preventDefault();history.back();">Go Back</a>\n          </footer>\n        </article>\n      </dialog>\n    </main>\n  </body>\n</html>\n`}(i)))};const Le=[{route:"/communities",handler:()=>Promise.resolve().then((function(){return Xo})),lazy:!0,middleware:!1,method:"get"},{route:"/communities/:id",handler:()=>Promise.resolve().then((function(){return es})),lazy:!0,middleware:!1,method:"get"},{route:"/communities/add-post",handler:()=>Promise.resolve().then((function(){return rs})),lazy:!0,middleware:!1,method:"post"},{route:"/",handler:()=>Promise.resolve().then((function(){return os})),lazy:!0,middleware:!1,method:void 0},{route:"/posts/:communityName",handler:()=>Promise.resolve().then((function(){return is})),lazy:!0,middleware:!1,method:"get"}];const xe=function(){const e=useRuntimeConfig(),t=new Hookable,captureError=(e,r={})=>{const n=t.callHookParallel("error",e,r).catch((e=>{console.error("Error while capturing another error",e)}));if(r.event&&isEvent(r.event)){const t=r.event.context.nitro?.errors;t&&t.push({error:e,context:r}),r.event.waitUntil&&r.event.waitUntil(n)}},r=createApp({debug:destr(!1),onError:(e,t)=>(captureError(e,{event:t,tags:["request"]}),errorHandler(e,t)),onRequest:async e=>{await xe.hooks.callHook("request",e).catch((t=>{captureError(t,{event:e,tags:["request"]})}))},onBeforeResponse:async(e,t)=>{await xe.hooks.callHook("beforeResponse",e,t).catch((t=>{captureError(t,{event:e,tags:["request","response"]})}))},onAfterResponse:async(e,t)=>{await xe.hooks.callHook("afterResponse",e,t).catch((t=>{captureError(t,{event:e,tags:["request","response"]})}))}}),n=function(e={}){const t=createRouter$1({}),r={};let n;const o={},addRoute=(e,n,s)=>{let i=r[e];if(i||(r[e]=i={path:e,handlers:{}},t.insert(e,i)),Array.isArray(s))for(const t of s)addRoute(e,n,t);else i.handlers[s]=toEventHandler(n,0,e);return o};o.use=o.add=(e,t,r)=>addRoute(e,t,r||"all");for(const e of G)o[e]=(t,r)=>o.add(t,r,e);return o.handler=Y((r=>{let o=r.path||"/";const s=o.indexOf("?");-1!==s&&(o=o.slice(0,Math.max(0,s)));const i=t.lookup(o);if(!i||!i.handlers){if(e.preemptive||e.preemtive)throw createError({statusCode:404,name:"Not Found",statusMessage:`Cannot find any route matching ${r.path||"/"}.`});return}const a=(r.node.req.method||"get").toLowerCase();let u=i.handlers[a]||i.handlers.all;if(!u){n||(n=toRouteMatcher(t));const e=n.matchAll(o).reverse();for(const t of e){if(t.handlers[a]){u=t.handlers[a],i.handlers[a]=i.handlers[a]||u;break}if(t.handlers.all){u=t.handlers.all,i.handlers.all=i.handlers.all||u;break}}}if(!u){if(e.preemptive||e.preemtive)throw createError({statusCode:405,name:"Method Not Allowed",statusMessage:`Method ${a} is not allowed on this route.`});return}r.context.matchedRoute=i;const c=i.params||{};return r.context.params=c,Promise.resolve(u(r)).then((t=>void 0===t&&(e.preemptive||e.preemtive)?null:t))})),o}({preemptive:!0}),o=(s=toNodeListener(r),function(e){const t=new IncomingMessage,r=new ServerResponse(t);if(t.url=e.url||"/",t.method=e.method||"GET",t.headers={},e.headers){const r="function"==typeof e.headers.entries?e.headers.entries():Object.entries(e.headers);for(const[e,n]of r)n&&(t.headers[e.toLowerCase()]=n)}return t.headers.host=t.headers.host||e.host||"localhost",t.connection.encrypted=t.connection.encrypted||"https"===e.protocol,t.body=e.body||null,t.__unenv__=e.context,s(t,r).then((()=>{let e=r._data;(ie.has(r.statusCode)||"HEAD"===t.method.toUpperCase())&&(e=null,delete r._headers["content-length"]);const n={body:e,headers:r._headers,status:r.statusCode,statusText:r.statusMessage};return t.destroy(),r.destroy(),n}))});var s;const i=function(e,t=global.fetch){return async function(r,n){const o=r.toString();if(!o.startsWith("/"))return t(o,n);try{const t=await e({url:o,...n});return new Response(t.body,{status:t.status,statusText:t.statusText,headers:Object.fromEntries(Object.entries(t.headers).map((([e,t])=>[e,Array.isArray(t)?t.join(","):String(t)||""])))})}catch(e){return new Response(e.toString(),{status:Number.parseInt(e.statusCode||e.code)||500,statusText:e.statusText})}}}(o,globalThis.fetch),localFetch=(e,t)=>i(e,t).then((e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:normalizeCookieHeaders(e.headers)}):e}(e))),a=createFetch$1({fetch:localFetch,Headers:oe,defaults:{baseURL:e.app.baseURL}});globalThis.$fetch=a,r.use(createRouteRulesHandler({localFetch:localFetch})),r.use(Y((e=>{e.context.nitro=e.context.nitro||{errors:[]};const t=e.node.req?.__unenv__;t&&Object.assign(e.context,t),e.fetch=(t,r)=>fetchWithEvent(e,t,r,{fetch:localFetch}),e.$fetch=(t,r)=>fetchWithEvent(e,t,r,{fetch:a}),e.waitUntil=r=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(r),t?.waitUntil&&t.waitUntil(r)},e.captureError=(t,r)=>{captureError(t,{event:e,...r})}})));for(const t of Le){let o=t.lazy?lazyEventHandler(t.handler):t.handler;if(t.middleware||!t.route){const n=(e.app.baseURL+(t.route||"/")).replace(/\/+/g,"/");r.use(n,o)}else{const e=getRouteRulesForPath(t.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(o=cachedEventHandler(o,{group:"nitro/routes",...e.cache})),n.use(t.route,o,t.method)}}r.use(e.app.baseURL,n.handler);const u={hooks:t,h3App:r,router:n,localCall:o,localFetch:localFetch,captureError:captureError};for(const e of $e)try{e(u)}catch(e){throw captureError(e,{tags:["plugin"]}),e}return u}(),useNitroApp=()=>xe;async function handleEvent(e,t){const r=new URL(e.url);let n;return e.body&&(n=await e.arrayBuffer()),xe.localFetch(r.pathname+r.search,{host:r.hostname,protocol:r.protocol,headers:e.headers,method:e.method,body:n,context:{vercel:{event:t}}})}var Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&1===Object.keys(e).length?e.default:e}var Me=Array.isArray,Ue="object"==typeof Ne&&Ne&&Ne.Object===Object&&Ne,He=Ue,qe="object"==typeof self&&self&&self.Object===Object&&self,ze=He||qe||Function("return this")(),De=ze.Symbol,Fe=De,We=Object.prototype,Ke=We.hasOwnProperty,Ve=We.toString,Je=Fe?Fe.toStringTag:void 0;var _getRawTag=function(e){var t=Ke.call(e,Je),r=e[Je];try{e[Je]=void 0;var n=!0}catch(e){}var o=Ve.call(e);return n&&(t?e[Je]=r:delete e[Je]),o},Ye=Object.prototype.toString;var Ge=_getRawTag,objectToString=function(e){return Ye.call(e)},Qe=De?De.toStringTag:void 0;var _baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Qe&&Qe in Object(e)?Ge(e):objectToString(e)};var isObjectLike_1=function(e){return null!=e&&"object"==typeof e},Xe=_baseGetTag,Ze=isObjectLike_1;var isSymbol_1=function(e){return"symbol"==typeof e||Ze(e)&&"[object Symbol]"==Xe(e)},et=Me,tt=isSymbol_1,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/;var _isKey=function(e,t){if(et(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!tt(e))||(nt.test(e)||!rt.test(e)||null!=t&&e in Object(t))};var isObject_1=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ot=_baseGetTag,st=isObject_1;var it,isFunction_1$1=function(e){if(!st(e))return!1;var t=ot(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},at=ze["__core-js_shared__"],ut=(it=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+it:"";var _isMasked=function(e){return!!ut&&ut in e},ct=Function.prototype.toString;var lt=isFunction_1$1,ft=_isMasked,dt=isObject_1,toSource=function(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ht=/^\[object .+?Constructor\]$/,pt=Function.prototype,yt=Object.prototype,gt=pt.toString,mt=yt.hasOwnProperty,bt=RegExp("^"+gt.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var baseIsNative=function(e){return!(!dt(e)||ft(e))&&(lt(e)?bt:ht).test(toSource(e))},getValue=function(e,t){return null==e?void 0:e[t]};var _getNative=function(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0},vt=_getNative(Object,"create"),wt=vt;var _hashClear=function(){this.__data__=wt?wt(null):{},this.size=0};var _hashDelete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_t=vt,Et=Object.prototype.hasOwnProperty;var _hashGet=function(e){var t=this.__data__;if(_t){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Et.call(t,e)?t[e]:void 0},Bt=vt,At=Object.prototype.hasOwnProperty;var Rt=vt;var Ot=_hashClear,It=_hashDelete,Tt=_hashGet,hashHas=function(e){var t=this.__data__;return Bt?void 0!==t[e]:At.call(t,e)},hashSet=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Rt&&void 0===t?"__lodash_hash_undefined__":t,this};function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=Ot,Hash$1.prototype.delete=It,Hash$1.prototype.get=Tt,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var jt=Hash$1;var _listCacheClear=function(){this.__data__=[],this.size=0};var eq=function(e,t){return e===t||e!=e&&t!=t};var _assocIndexOf=function(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1},St=_assocIndexOf,Ct=Array.prototype.splice;var _listCacheDelete=function(e){var t=this.__data__,r=St(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ct.call(t,r,1),--this.size,!0)},kt=_assocIndexOf;var _listCacheGet=function(e){var t=this.__data__,r=kt(t,e);return r<0?void 0:t[r][1]},Pt=_assocIndexOf;var $t=_assocIndexOf;var _listCacheSet=function(e,t){var r=this.__data__,n=$t(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Lt=_listCacheClear,xt=_listCacheDelete,Nt=_listCacheGet,listCacheHas=function(e){return Pt(this.__data__,e)>-1},Mt=_listCacheSet;function ListCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$1.prototype.clear=Lt,ListCache$1.prototype.delete=xt,ListCache$1.prototype.get=Nt,ListCache$1.prototype.has=listCacheHas,ListCache$1.prototype.set=Mt;var Ut=ListCache$1,Ht=_getNative(ze,"Map"),qt=jt,zt=Ut,Dt=Ht;var isKeyable=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _getMapData=function(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map},Ft=_getMapData;var Wt=_getMapData;var Kt=_getMapData;var Vt=_getMapData;var mapCacheClear=function(){this.size=0,this.__data__={hash:new qt,map:new(Dt||zt),string:new qt}},mapCacheDelete=function(e){var t=Ft(this,e).delete(e);return this.size-=t?1:0,t},mapCacheGet=function(e){return Wt(this,e).get(e)},mapCacheHas=function(e){return Kt(this,e).has(e)},mapCacheSet=function(e,t){var r=Vt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function MapCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$1.prototype.clear=mapCacheClear,MapCache$1.prototype.delete=mapCacheDelete,MapCache$1.prototype.get=mapCacheGet,MapCache$1.prototype.has=mapCacheHas,MapCache$1.prototype.set=mapCacheSet;var Jt=MapCache$1;function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var memoized=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=memoized.cache;if(o.has(n))return o.get(n);var s=e.apply(this,r);return memoized.cache=o.set(n,s)||o,s};return memoized.cache=new(memoize$1.Cache||Jt),memoized}memoize$1.Cache=Jt;var Yt=memoize$1;var Gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qt=/\\(\\)?/g,Xt=function(e){var t=Yt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Gt,(function(e,r,n,o){t.push(n?o.replace(Qt,"$1"):r||e)})),t}));var _arrayMap=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},Zt=_arrayMap,er=Me,tr=isSymbol_1,rr=De?De.prototype:void 0,nr=rr?rr.toString:void 0;var or=function baseToString$1(e){if("string"==typeof e)return e;if(er(e))return Zt(e,baseToString$1)+"";if(tr(e))return nr?nr.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},sr=or;var ir=Me,ar=_isKey,ur=Xt,toString=function(e){return null==e?"":sr(e)};var cr=isSymbol_1;var castPath=function(e,t){return ir(e)?e:ar(e,t)?[e]:ur(toString(e))},toKey=function(e){if("string"==typeof e||cr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var _baseGet=function(e,t){for(var r=0,n=(t=castPath(t,e)).length;null!=e&&r<n;)e=e[toKey(t[r++])];return r&&r==n?e:void 0},lr=_baseGet;var get_1$1=function(e,t,r){var n=null==e?void 0:lr(e,t);return void 0===n?r:n};var _overArg=function(e,t){return function(r){return e(t(r))}},fr=_overArg(Object.getPrototypeOf,Object),dr=_baseGetTag,hr=fr,pr=isObjectLike_1,yr=Function.prototype,gr=Object.prototype,mr=yr.toString,br=gr.hasOwnProperty,vr=mr.call(Object);var isPlainObject_1$3=function(e){if(!pr(e)||"[object Object]"!=dr(e))return!1;var t=hr(e);if(null===t)return!0;var r=br.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&mr.call(r)==vr};var _baseTimes=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},wr=_baseGetTag,_r=isObjectLike_1;var baseIsArguments=function(e){return _r(e)&&"[object Arguments]"==wr(e)},Er=isObjectLike_1,Br=Object.prototype,Ar=Br.hasOwnProperty,Rr=Br.propertyIsEnumerable,Or=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return Er(e)&&Ar.call(e,"callee")&&!Rr.call(e,"callee")},Ir={exports:{}};var stubFalse_1=function(){return!1};!function(e,t){var r=ze,n=stubFalse_1,o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,i=s&&s.exports===o?r.Buffer:void 0,a=(i?i.isBuffer:void 0)||n;e.exports=a}(Ir,Ir.exports);var Tr=Ir.exports,jr=/^(?:0|[1-9]\d*)$/;var _isIndex=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&jr.test(e))&&e>-1&&e%1==0&&e<t};var isLength_1=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Sr=_baseGetTag,Cr=isLength_1,kr=isObjectLike_1,Pr={};Pr["[object Float32Array]"]=Pr["[object Float64Array]"]=Pr["[object Int8Array]"]=Pr["[object Int16Array]"]=Pr["[object Int32Array]"]=Pr["[object Uint8Array]"]=Pr["[object Uint8ClampedArray]"]=Pr["[object Uint16Array]"]=Pr["[object Uint32Array]"]=!0,Pr["[object Arguments]"]=Pr["[object Array]"]=Pr["[object ArrayBuffer]"]=Pr["[object Boolean]"]=Pr["[object DataView]"]=Pr["[object Date]"]=Pr["[object Error]"]=Pr["[object Function]"]=Pr["[object Map]"]=Pr["[object Number]"]=Pr["[object Object]"]=Pr["[object RegExp]"]=Pr["[object Set]"]=Pr["[object String]"]=Pr["[object WeakMap]"]=!1;var _baseIsTypedArray=function(e){return kr(e)&&Cr(e.length)&&!!Pr[Sr(e)]};var _baseUnary=function(e){return function(t){return e(t)}},$r={exports:{}};!function(e,t){var r=Ue,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,s=o&&o.exports===n&&r.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=i}($r,$r.exports);var Lr=$r.exports,xr=_baseIsTypedArray,Nr=_baseUnary,Mr=Lr&&Lr.isTypedArray,Ur=Mr?Nr(Mr):xr,Hr=_baseTimes,qr=Or,zr=Me,Dr=Tr,Fr=_isIndex,Wr=Ur,Kr=Object.prototype.hasOwnProperty;var _arrayLikeKeys=function(e,t){var r=zr(e),n=!r&&qr(e),o=!r&&!n&&Dr(e),s=!r&&!n&&!o&&Wr(e),i=r||n||o||s,a=i?Hr(e.length,String):[],u=a.length;for(var c in e)!t&&!Kr.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fr(c,u))||a.push(c);return a},Vr=Object.prototype;var _isPrototype=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vr)},Jr=_overArg(Object.keys,Object),Yr=_isPrototype,Gr=Jr,Qr=Object.prototype.hasOwnProperty;var Xr=isFunction_1$1,Zr=isLength_1;var en=_arrayLikeKeys,baseKeys=function(e){if(!Yr(e))return Gr(e);var t=[];for(var r in Object(e))Qr.call(e,r)&&"constructor"!=r&&t.push(r);return t},isArrayLike=function(e){return null!=e&&Zr(e.length)&&!Xr(e)};var keys_1$4=function(e){return isArrayLike(e)?en(e):baseKeys(e)},tn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isRedirect=t.fetch=t.default=t.Response=t.Request=t.Headers=t.FetchError=t.AbortError=t.AbortController=void 0;const fetch=(...e)=>globalThis.fetch(...e);t.fetch=fetch,t.Headers=globalThis.Headers,t.Request=globalThis.Request,t.Response=globalThis.Response,t.AbortController=globalThis.AbortController,t.FetchError=Error,t.AbortError=Error;const r=new Set([301,302,303,307,308]),isRedirect=e=>r.has(e);t.isRedirect=isRedirect,fetch.Promise=globalThis.Promise,fetch.isRedirect=isRedirect,e.exports=fetch}(tn,tn.exports);var rn,nn=tn.exports,on=(Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(nn),sn="undefined"!=typeof self?self:null,an=sn?sn.fetch.bind(sn):on.default,un={};const cn=new WeakMap,ln=new WeakMap;function pd(e){const t=cn.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function setCancelFlag(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function Event$1(e,t){cn.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,defineRedirectDescriptor(t))}}function defineRedirectDescriptor(e){return{get(){return pd(this).event[e]},set(t){pd(this).event[e]=t},configurable:!0,enumerable:!0}}function defineCallDescriptor(e){return{value(){const t=pd(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function getWrapper(e){if(null==e||e===Object.prototype)return Event$1;let t=ln.get(e);return null==t&&(t=function(e,t){const r=Object.keys(t);if(0===r.length)return e;function CustomEvent(t,r){e.call(this,t,r)}CustomEvent.prototype=Object.create(e.prototype,{constructor:{value:CustomEvent,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){const o=r[n];if(!(o in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(CustomEvent.prototype,o,e?defineCallDescriptor(o):defineRedirectDescriptor(o))}}return CustomEvent}(getWrapper(Object.getPrototypeOf(e)),e),ln.set(e,t)),t}function isStopped(e){return pd(e).immediateStopped}function setPassiveListener(e,t){pd(e).passiveListener=t}Event$1.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){const e=pd(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){const e=pd(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=pd(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(pd(this).event.bubbles)},get cancelable(){return Boolean(pd(this).event.cancelable)},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return Boolean(pd(this).event.composed)},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(e){if(!e)return;const t=pd(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!pd(this).canceled},set returnValue(e){e||setCancelFlag(pd(this))},initEvent(){}},Object.defineProperty(Event$1.prototype,"constructor",{value:Event$1,configurable:!0,writable:!0});const fn=new WeakMap,dn=3;function isObject(e){return null!==e&&"object"==typeof e}function getListeners(e){const t=fn.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function defineEventAttribute(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=getListeners(this).get(e);for(;null!=t;){if(t.listenerType===dn)return t.listener;t=t.next}return null},set(t){"function"==typeof t||isObject(t)||(t=null);const r=getListeners(this);let n=null,o=r.get(e);for(;null!=o;)o.listenerType===dn?null!==n?n.next=o.next:null!==o.next?r.set(e,o.next):r.delete(e):n=o,o=o.next;if(null!==t){const o={listener:t,listenerType:dn,passive:!1,once:!1,next:null};null===n?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}(t))}function defineCustomEventTarget(e){function CustomEventTarget(){EventTarget.call(this)}CustomEventTarget.prototype=Object.create(EventTarget.prototype,{constructor:{value:CustomEventTarget,configurable:!0,writable:!0}});for(let t=0;t<e.length;++t)defineEventAttribute(CustomEventTarget.prototype,e[t]);return CustomEventTarget}function EventTarget(){if(!(this instanceof EventTarget)){if(1===arguments.length&&Array.isArray(arguments[0]))return defineCustomEventTarget(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return defineCustomEventTarget(e)}throw new TypeError("Cannot call a class as a function")}fn.set(this,new Map)}EventTarget.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!isObject(t))throw new TypeError("'listener' should be a function or an object.");const n=getListeners(this),o=isObject(r),s=(o?Boolean(r.capture):Boolean(r))?1:2,i={listener:t,listenerType:s,passive:o&&Boolean(r.passive),once:o&&Boolean(r.once),next:null};let a=n.get(e);if(void 0===a)return void n.set(e,i);let u=null;for(;null!=a;){if(a.listener===t&&a.listenerType===s)return;u=a,a=a.next}u.next=i},removeEventListener(e,t,r){if(null==t)return;const n=getListeners(this),o=(isObject(r)?Boolean(r.capture):Boolean(r))?1:2;let s=null,i=n.get(e);for(;null!=i;){if(i.listener===t&&i.listenerType===o)return void(null!==s?s.next=i.next:null!==i.next?n.set(e,i.next):n.delete(e));s=i,i=i.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=getListeners(this),r=e.type;let n=t.get(r);if(null==n)return!0;const o=function(e,t){return new(getWrapper(Object.getPrototypeOf(t)))(e,t)}(this,e);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):s=n,setPassiveListener(o,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,o)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else n.listenerType!==dn&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(o);if(isStopped(o))break;n=n.next}return setPassiveListener(o,null),function(e,t){pd(e).eventPhase=t}(o,0),function(e,t){pd(e).currentTarget=t}(o,null),!o.defaultPrevented}},Object.defineProperty(EventTarget.prototype,"constructor",{value:EventTarget,configurable:!0,writable:!0});class AbortSignal extends EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=hn.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}defineEventAttribute(AbortSignal.prototype,"abort");const hn=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});let pn=class{constructor(){yn.set(this,function(){const e=Object.create(AbortSignal.prototype);return EventTarget.call(e),hn.set(e,!1),e}())}get signal(){return getSignal(this)}abort(){var e;e=getSignal(this),!1===hn.get(e)&&(hn.set(e,!0),e.dispatchEvent({type:"abort"}))}};const yn=new WeakMap;function getSignal(e){const t=yn.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(pn.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(pn.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});const gn=getDefaultExportFromNamespaceIfNotNamed(Object.freeze(Object.defineProperty({__proto__:null,AbortController:pn,AbortSignal:AbortSignal,default:pn},Symbol.toStringTag,{value:"Module"})));var mn,bn="undefined"!=typeof self?self:null;if(bn)if("signal"in new Request("https://airtable.com"))mn=bn.AbortController;else{var vn=function(){if(rn)return un;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _createSuper(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}(this,r)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_get.apply(this,arguments)}rn=1,Object.defineProperty(un,"__esModule",{value:!0});var e=function(){function Emitter(){_classCallCheck(this,Emitter),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return _createClass(Emitter,[{key:"addEventListener",value:function(e,t,r){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:r})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n].callback===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),r=0,n=t.length;r<n;r++){var o=t[r];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),Emitter}(),t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}(AbortSignal,t);var r=_createSuper(AbortSignal);function AbortSignal(){var t;return _classCallCheck(this,AbortSignal),(t=r.call(this)).listeners||e.call(_assertThisInitialized(t)),Object.defineProperty(_assertThisInitialized(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(_assertThisInitialized(t),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(_assertThisInitialized(t),"reason",{value:void 0,writable:!0,configurable:!0}),t}return _createClass(AbortSignal,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),_get(_getPrototypeOf(AbortSignal.prototype),"dispatchEvent",this).call(this,e)}}]),AbortSignal}(e),r=function(){function AbortController(){_classCallCheck(this,AbortController),Object.defineProperty(this,"signal",{value:new t,writable:!0,configurable:!0})}return _createClass(AbortController,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var r=e;if(void 0===r)if("undefined"==typeof document)(r=new Error("This operation was aborted")).name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch(e){(r=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),AbortController}();return"undefined"!=typeof Symbol&&Symbol.toStringTag&&(r.prototype[Symbol.toStringTag]="AbortController",t.prototype[Symbol.toStringTag]="AbortSignal"),un.AbortController=r,un.AbortSignal=t,un.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t=e,r=t.fetch,n=t.Request,o=void 0===n?r.Request:n,s=t.AbortController,i=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==i&&i;if(!function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}({fetch:r,Request:o,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:r,Request:u};var u=o;(u&&!u.prototype.hasOwnProperty("signal")||a)&&((u=function(e,t){var r;t&&t.signal&&(r=t.signal,delete t.signal);var n=new o(e,t);return r&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),n}).prototype=o.prototype);var c=r;return{fetch:function(e,t){var r=u&&u.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(r){var n;try{n=new DOMException("Aborted","AbortError")}catch(e){(n=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(n);var o=new Promise((function(e,t){r.addEventListener("abort",(function(){return t(n)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([o,c(e,t)])}return c(e,t)},Request:u}},un}();mn=vn.AbortController}else mn=gn;var wn=mn;var isNil_1$1=function(e){return null==e},_n=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},En=_n(Me),Bn=_n(isNil_1$1),An=_n(keys_1$4);function buildParams(e,t,r){if(En.default(t))for(var n=0;n<t.length;n++){var o=t[n];/\[\]$/.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o&&null!==o?n:"")+"]",o,r)}else if("object"==typeof t)for(var s=0,i=An.default(t);s<i.length;s++){var a=i[s];buildParams(e+"["+a+"]",o=t[a],r)}else r(e,t)}var object_to_query_param_string=function(e){for(var t=[],addFn=function(e,r){r=Bn.default(r)?"":r,t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))},r=0,n=An.default(e);r<n.length;r++){var o=n[r];buildParams(o,e[o],addFn)}return t.join("&").replace(/%20/g,"+")},Rn=function(){function AirtableError(e,t,r){this.error=e,this.message=t,this.statusCode=r}return AirtableError.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},AirtableError}(),On={};var deprecate_1$1=function(e,t,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];On[t]||(On[t]=!0,console.warn(r)),e.apply(this,n)}};var callback_to_promise=function(e,t,r){return void 0===r&&(r=void 0),function(){for(var n,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if("function"!=typeof o[n=void 0===r?o.length>0?o.length-1:0:r]){for(var i=[],a=Math.max(o.length,n),u=0;u<a;u++)i.push(o[u]);return new Promise((function(r,n){i.push((function(e,t){e?n(e):r(t)})),e.apply(t,i)}))}e.apply(t,o)}},In=Ne&&Ne.__assign||function(){return In=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},In.apply(this,arguments)},Tn=(Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(callback_to_promise),jn=function(){function Record(e,t,r){this._table=e,this.id=t||r.id,r&&(this.commentCount=r.commentCount),this.setRawJson(r),this.save=Tn.default(save,this),this.patchUpdate=Tn.default(patchUpdate,this),this.putUpdate=Tn.default(putUpdate,this),this.destroy=Tn.default(destroy,this),this.fetch=Tn.default(fetch,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return Record.prototype.getId=function(){return this.id},Record.prototype.get=function(e){return this.fields[e]},Record.prototype.set=function(e,t){this.fields[e]=t},Record.prototype.setRawJson=function(e){this._rawJson=e,this.fields=this._rawJson&&this._rawJson.fields||{}},Record}();function save(e){this.putUpdate(this.fields,e)}function patchUpdate(e,t,r){var n=this;r||(r=t,t={});var o=In({fields:e},t);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},o,(function(e,t,o){e?r(e):(n.setRawJson(o),r(null,n))}))}function putUpdate(e,t,r){var n=this;r||(r=t,t={});var o=In({fields:e},t);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},o,(function(e,t,o){e?r(e):(n.setRawJson(o),r(null,n))}))}function destroy(e){var t=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,(function(r){r?e(r):e(null,t)}))}function fetch(e){var t=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,(function(r,n,o){r?e(r):(t.setRawJson(o),e(null,t))}))}var Sn=jn;var has_1$1=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Cn={};function check(e,t){return function(r){return e(r)?{pass:!0}:{pass:!1,error:t}}}check.isOneOf=function(e){return e.includes.bind(e)},check.isArrayOf=function(e){return function(t){return Array.isArray(t)&&t.every(e)}};var kn=check,Pn=_baseGetTag,$n=Me,Ln=isObjectLike_1;var isString_1$1=function(e){return"string"==typeof e||!$n(e)&&Ln(e)&&"[object String]"==Pn(e)},xn=_baseGetTag,Nn=isObjectLike_1;var isNumber_1$1=function(e){return"number"==typeof e||Nn(e)&&"[object Number]"==xn(e)},Mn=_baseGetTag,Un=isObjectLike_1;var isBoolean_1$1=function(e){return!0===e||!1===e||Un(e)&&"[object Boolean]"==Mn(e)},Hn=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.shouldListRecordsParamBePassedAsParameter=Cn.URL_CHARACTER_LENGTH_LIMIT=Cn.paramValidators=void 0;var qn=Hn(kn),zn=Hn(isString_1$1),Dn=Hn(isNumber_1$1),Fn=Hn(isPlainObject_1$3),Wn=Hn(isBoolean_1$1);Cn.paramValidators={fields:qn.default(qn.default.isArrayOf(zn.default),"the value for `fields` should be an array of strings"),filterByFormula:qn.default(zn.default,"the value for `filterByFormula` should be a string"),maxRecords:qn.default(Dn.default,"the value for `maxRecords` should be a number"),pageSize:qn.default(Dn.default,"the value for `pageSize` should be a number"),offset:qn.default(Dn.default,"the value for `offset` should be a number"),sort:qn.default(qn.default.isArrayOf((function(e){return Fn.default(e)&&zn.default(e.field)&&(void 0===e.direction||["asc","desc"].includes(e.direction))})),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:qn.default(zn.default,"the value for `view` should be a string"),cellFormat:qn.default((function(e){return zn.default(e)&&["json","string"].includes(e)}),'the value for `cellFormat` should be "json" or "string"'),timeZone:qn.default(zn.default,"the value for `timeZone` should be a string"),userLocale:qn.default(zn.default,"the value for `userLocale` should be a string"),method:qn.default((function(e){return zn.default(e)&&["get","post"].includes(e)}),'the value for `method` should be "get" or "post"'),returnFieldsByFieldId:qn.default(Wn.default,"the value for `returnFieldsByFieldId` should be a boolean"),recordMetadata:qn.default(qn.default.isArrayOf(zn.default),"the value for `recordMetadata` should be an array of strings")},Cn.URL_CHARACTER_LENGTH_LIMIT=15e3,Cn.shouldListRecordsParamBePassedAsParameter=function(e){return"timeZone"===e||"userLocale"===e};var Kn=Ne&&Ne.__assign||function(){return Kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kn.apply(this,arguments)},Vn=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Jn=Vn(isFunction_1$1),Yn=Vn(keys_1$4),Gn=Vn(Sn),Qn=Vn(callback_to_promise),Xn=Vn(has_1$1),Zn=Cn,eo=Vn(object_to_query_param_string),to=function(){function Query(e,t){this._table=e,this._params=t,this.firstPage=Qn.default(firstPage,this),this.eachPage=Qn.default(eachPage,this,1),this.all=Qn.default(all,this)}return Query.validateParams=function(e){for(var t={},r=[],n=[],o=0,s=Yn.default(e);o<s.length;o++){var i=s[o],a=e[i];if(Xn.default(Query.paramValidators,i)){var u=(0,Query.paramValidators[i])(a);u.pass?t[i]=a:n.push(u.error)}else r.push(i)}return{validParams:t,ignoredKeys:r,errors:n}},Query.paramValidators=Zn.paramValidators,Query}();function firstPage(e){if(!Jn.default(e))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage((function(t){e(null,t)}),(function(t){e(t,null)}))}function eachPage(e,t){var r=this;if(!Jn.default(e))throw new Error("The first parameter to `eachPage` must be a function");if(!Jn.default(t)&&void 0!==t)throw new Error("The second parameter to `eachPage` must be a function or undefined");var n,o,s=Kn({},this._params),i="/"+this._table._urlEncodedNameOrId()+"?"+eo.default(s),a={},u=null;if("post"===s.method||i.length>Zn.URL_CHARACTER_LENGTH_LIMIT){u=s,n="post",o="/"+this._table._urlEncodedNameOrId()+"/listRecords";for(var c=0,l=Object.keys(s);c<l.length;c++){var f=l[c];Zn.shouldListRecordsParamBePassedAsParameter(f)?a[f]=s[f]:u[f]=s[f]}}else n="get",a=s,o="/"+this._table._urlEncodedNameOrId();var inner=function(){r._table._base.runAction(n,o,a,u,(function(n,o,i){if(n)t(n,null);else{var a=void 0;i.offset?(s.offset=i.offset,a=inner):a=function(){t(null)};var u=i.records.map((function(e){return new Gn.default(r._table,null,e)}));e(u,a)}}))};inner()}function all(e){if(!Jn.default(e))throw new Error("The first parameter to `all` must be a function");var t=[];this.eachPage((function(e,r){t.push.apply(t,e),r()}),(function(r){r?e(r,null):e(null,t)}))}var ro=to,no=Ne&&Ne.__assign||function(){return no=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},no.apply(this,arguments)},oo=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},so=oo(isPlainObject_1$3),io=oo(deprecate_1$1),ao=oo(ro),uo=Cn,co=oo(object_to_query_param_string),lo=oo(Sn),fo=oo(callback_to_promise),ho=function(){function Table(e,t,r){if(!t&&!r)throw new Error("Table name or table ID is required");this._base=e,this.id=t,this.name=r,this.find=fo.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=fo.default(this._createRecords,this),this.update=fo.default(this._updateRecords.bind(this,!1),this),this.replace=fo.default(this._updateRecords.bind(this,!0),this),this.destroy=fo.default(this._destroyRecord,this),this.list=io.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=io.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return Table.prototype._findRecordById=function(e,t){new lo.default(this,e).fetch(t)},Table.prototype._selectRecords=function(e){if(void 0===e&&(e={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),so.default(e)){var t=ao.default.validateParams(e);if(t.errors.length){var r=t.errors.map((function(e){return"  * "+e}));throw new Error("Airtable: invalid parameters for `select`:\n"+r.join("\n"))}return t.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+t.ignoredKeys.join(", ")),new ao.default(this,t.validParams)}throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},Table.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},Table.prototype._createRecords=function(e,t,r){var n,o=this,s=Array.isArray(e);r||(r=t,t={}),n=no(s?{records:e}:{fields:e},t),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},n,(function(e,t,n){var i;e?r(e):(i=s?n.records.map((function(e){return new lo.default(o,e.id,e)})):new lo.default(o,n.id,n),r(null,i))}))},Table.prototype._updateRecords=function(e,t,r,n,o){var s,i=this;if(Array.isArray(t)){var a=t;s=so.default(r)?r:{},o=n||r;var u=e?"put":"patch",c=no({records:a},s);this._base.runAction(u,"/"+this._urlEncodedNameOrId()+"/",{},c,(function(e,t,r){if(e)o(e);else{var n=r.records.map((function(e){return new lo.default(i,e.id,e)}));o(null,n)}}))}else{var l=t,f=r;s=so.default(n)?n:{},o=o||n;var d=new lo.default(this,l);e?d.putUpdate(f,s,o):d.patchUpdate(f,s,o)}},Table.prototype._destroyRecord=function(e,t){var r=this;if(Array.isArray(e)){var n={records:e};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),n,null,(function(e,n,o){if(e)t(e);else{var s=o.records.map((function(e){var t=e.id;return new lo.default(r,t,null)}));t(null,s)}}))}else{new lo.default(this,e).destroy(t)}},Table.prototype._listRecords=function(e,t,r,n){var o=this;n||(n=r,r={});var s,i,a="/"+this._urlEncodedNameOrId()+"?"+co.default(r),u={},c=null;if("function"!=typeof r&&"post"===r.method||a.length>uo.URL_CHARACTER_LENGTH_LIMIT){s="/"+this._urlEncodedNameOrId()+"/listRecords",c=no(no({},e&&{pageSize:e}),t&&{offset:t}),i="post";for(var l=0,f=Object.keys(r);l<f.length;l++){var d=f[l];uo.shouldListRecordsParamBePassedAsParameter(d)?u[d]=r[d]:c[d]=r[d]}}else i="get",s="/"+this._urlEncodedNameOrId()+"/",u=no({limit:e,offset:t},r);this._base.runAction(i,s,u,c,(function(e,t,r){if(e)n(e);else{var s=r.records.map((function(e){return new lo.default(o,null,e)}));n(null,s,r.offset)}}))},Table.prototype._forEachRecord=function(e,t,r){var n=this;2===arguments.length&&(r=t,t=e,e={});var o=Table.__recordsPerPageForIteration||100,s=null,nextPage=function(){n._listRecords(o,s,e,(function(e,n,o){if(e)r(e);else{for(var i=0;i<n.length;i++)t(n[i]);o?(s=o,nextPage()):r()}}))};nextPage()},Table}(),po=ho,yo=(Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(keys_1$4),go=function(){function HttpHeaders(){this._headersByLowercasedKey={}}return HttpHeaders.prototype.set=function(e,t){var r=e.toLowerCase();"x-airtable-user-agent"===r&&(r="user-agent",e="User-Agent"),this._headersByLowercasedKey[r]={headerKey:e,headerValue:t}},HttpHeaders.prototype.toJSON=function(){for(var e={},t=0,r=yo.default(this._headersByLowercasedKey);t<r.length;t++){var n=r[t],o=this._headersByLowercasedKey[n];e[o.headerKey]=o.headerValue}return e},HttpHeaders}();const mo={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5};var bo=(Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(mo);var exponential_backoff_with_jitter=function(e){var t=bo.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,e),r=Math.min(bo.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,t);return Math.random()*r};var vo="0.12.2",wo=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_o=wo(exponential_backoff_with_jitter),Eo=wo(object_to_query_param_string),Bo=wo(vo),Ao=wo(an),Ro=wo(wn),Oo="Airtable.js/"+Bo.default;var Io=function runAction(e,t,r,n,o,s,i){var a=e._airtable._endpointUrl+"/v"+e._airtable._apiVersionMajor+"/"+e._id+r+"?"+Eo.default(n),u={authorization:"Bearer "+e._airtable._apiKey,"x-api-version":e._airtable._apiVersion,"x-airtable-application-id":e.getId(),"content-type":"application/json"};u["User-Agent"]=Oo;var c=new Ro.default,l=t.toUpperCase(),f={method:l,headers:u,signal:c.signal};null!==o&&("GET"===l||"HEAD"===l?console.warn("body argument to runAction are ignored with GET or HEAD requests"):f.body=JSON.stringify(o));var d=setTimeout((function(){c.abort()}),e._airtable._requestTimeout);Ao.default(a,f).then((function(a){if(clearTimeout(d),429!==a.status||e._airtable._noRetryIfRateLimited)a.json().then((function(t){var r=e._checkStatusForError(a.status,t),n={};Object.keys(a).forEach((function(e){n[e]=a[e]})),n.body=t,n.statusCode=a.status,s(r,n,t)})).catch((function(){s(e._checkStatusForError(a.status))}));else{var u=_o.default(i);setTimeout((function(){runAction(e,t,r,n,o,s,i+1)}),u)}})).catch((function(e){clearTimeout(d),s(e)}))},To=Ne&&Ne.__assign||function(){return To=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},To.apply(this,arguments)},jo=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},So=jo(get_1$1),Co=jo(isPlainObject_1$3),ko=jo(keys_1$4),Po=jo(an),$o=jo(wn),Lo=jo(object_to_query_param_string),xo=jo(Rn),No=jo(po),Mo=jo(go),Uo=jo(Io),Ho=jo(vo),qo=jo(exponential_backoff_with_jitter),zo="Airtable.js/"+Ho.default,Do=function(){function Base(e,t){this._airtable=e,this._id=t}return Base.prototype.table=function(e){return new No.default(this,null,e)},Base.prototype.makeRequest=function(e){var t,r=this;void 0===e&&(e={});var n=So.default(e,"method","GET").toUpperCase(),o=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+So.default(e,"path","/")+"?"+Lo.default(So.default(e,"qs",{})),s=new $o.default,i={method:n,headers:this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,null!==(t=e.headers)&&void 0!==t?t:{})),signal:s.signal};"body"in e&&function(e){return"GET"!==e&&"DELETE"!==e}(n)&&(i.body=JSON.stringify(e.body));var a=setTimeout((function(){s.abort()}),this._airtable._requestTimeout);return new Promise((function(t,n){Po.default(o,i).then((function(o){if(clearTimeout(a),429!==o.status||r._airtable._noRetryIfRateLimited)o.json().then((function(e){var s=r._checkStatusForError(o.status,e)||_getErrorForNonObjectBody(o.status,e);s?n(s):t({statusCode:o.status,headers:o.headers,body:e})})).catch((function(){var e=_getErrorForNonObjectBody(o.status);n(e)}));else{var s=So.default(e,"_numAttempts",0),i=qo.default(s);setTimeout((function(){var o=To(To({},e),{_numAttempts:s+1});r.makeRequest(o).then(t).catch(n)}),i)}})).catch((function(e){clearTimeout(a),e=new xo.default("CONNECTION_ERROR",e.message,null),n(e)}))}))},Base.prototype.runAction=function(e,t,r,n,o){Uo.default(this,e,t,r,n,o,0)},Base.prototype._getRequestHeaders=function(e){var t=new Mo.default;t.set("Authorization","Bearer "+this._airtable._apiKey),t.set("User-Agent",zo),t.set("Content-Type","application/json");for(var r=0,n=ko.default(e);r<n.length;r++){var o=n[r];t.set(o,e[o])}return t.toJSON()},Base.prototype._checkStatusForError=function(e,t){var r=(null!=t?t:{error:{}}).error,n=void 0===r?{}:r,o=n.type,s=n.message;return 401===e?new xo.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",e):403===e?new xo.default("NOT_AUTHORIZED","You are not authorized to perform this operation",e):404===e?new xo.default("NOT_FOUND",null!=s?s:"Could not find what you are looking for",e):413===e?new xo.default("REQUEST_TOO_LARGE","Request body is too large",e):422===e?new xo.default(null!=o?o:"UNPROCESSABLE_ENTITY",null!=s?s:"The operation cannot be processed",e):429===e?new xo.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",e):500===e?new xo.default("SERVER_ERROR","Try again. If the problem persists, contact support.",e):503===e?new xo.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",e):e>=400?new xo.default(null!=o?o:"UNEXPECTED_ERROR",null!=s?s:"An unexpected error occurred",e):null},Base.prototype.doCall=function(e){return this.table(e)},Base.prototype.getId=function(){return this._id},Base.createFunctor=function(e,t){var r=new Base(e,t),baseFn=function(e){return r.doCall(e)};return baseFn._base=r,baseFn.table=r.table.bind(r),baseFn.makeRequest=r.makeRequest.bind(r),baseFn.runAction=r.runAction.bind(r),baseFn.getId=r.getId.bind(r),baseFn},Base}();function _getErrorForNonObjectBody(e,t){return Co.default(t)?null:new xo.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",e)}var Fo=Do,Wo=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ko=Wo(Fo),Vo=Wo(Sn),Jo=Wo(po),Yo=Wo(Rn);const Go=getDefaultExportFromCjs(function(){function Airtable(e){void 0===e&&(e={});var t=Airtable.default_config(),r=e.apiVersion||Airtable.apiVersion||t.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:e.apiKey||Airtable.apiKey||t.apiKey},_apiVersion:{value:r},_apiVersionMajor:{value:r.split(".")[0]},_customHeaders:{value:e.customHeaders||{}},_endpointUrl:{value:e.endpointUrl||Airtable.endpointUrl||t.endpointUrl},_noRetryIfRateLimited:{value:e.noRetryIfRateLimited||Airtable.noRetryIfRateLimited||t.noRetryIfRateLimited},_requestTimeout:{value:e.requestTimeout||Airtable.requestTimeout||t.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return Airtable.prototype.base=function(e){return Ko.default.createFunctor(this,e)},Airtable.default_config=function(){return{endpointUrl:process.env.AIRTABLE_ENDPOINT_URL||"https://api.airtable.com",apiVersion:"0.1.0",apiKey:process.env.AIRTABLE_API_KEY,noRetryIfRateLimited:!1,requestTimeout:3e5}},Airtable.configure=function(e){var t=e.apiKey,r=e.endpointUrl,n=e.apiVersion,o=e.noRetryIfRateLimited,s=e.requestTimeout;Airtable.apiKey=t,Airtable.endpointUrl=r,Airtable.apiVersion=n,Airtable.noRetryIfRateLimited=o,Airtable.requestTimeout=s},Airtable.base=function(e){return(new Airtable).base(e)},Airtable.Base=Ko.default,Airtable.Record=Vo.default,Airtable.Table=Jo.default,Airtable.Error=Yo.default,Airtable}()),Qo=defineEventHandler((async e=>{const t=new Go({apiKey:process.env.AIRTABLE_API_KEY}).base("appkWnHbz7wdymW3m"),r=[];return await t("Community").select({maxRecords:10,view:"Grid view",fields:["Name","Description"]}).eachPage((function(e,t){console.log("records",e),r.push(...e.map((e=>({id:e.id,...e.fields})))),t()})),r})),Xo=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"})),Zo=defineEventHandler((async e=>{const{id:t}=e.context.params,r=new Go({apiKey:process.env.AIRTABLE_API_KEY}).base("appkWnHbz7wdymW3m"),n=await r("Community").find(t).then((e=>e));return n?{id:n.id,...n.fields}:{status:404,body:{message:"Community not found"}}})),es=Object.freeze(Object.defineProperty({__proto__:null,default:Zo},Symbol.toStringTag,{value:"Module"})),ts=defineEventHandler((async e=>{const t=await readBody(e),r=new Go({apiKey:process.env.AIRTABLE_API_KEY}).base("appkWnHbz7wdymW3m");return await r("Posts").create({UserName:t.userName,Body:t.body,Created:(new Date).toISOString(),Community:[t.communityId]}).then((e=>{console.log("record id",e.getId())})).catch((e=>({status:500,body:{message:e.message}}))),{updated:!0}})),rs=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"})),ns=Y((()=>({nitro:"Is Awesome!"}))),os=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"})),ss=defineEventHandler((async e=>{const{communityName:t}=e.context.params,r=new Go({apiKey:process.env.AIRTABLE_API_KEY}).base("appkWnHbz7wdymW3m"),n=[];return await r("Posts").select({maxRecords:10,view:"Grid view",filterByFormula:`Community = "${t}"`,fields:["Created","Body","UserName"]}).eachPage((function(e,t){n.push(...e.map((e=>({id:e.id,...e.fields})))),t()})),n})),is=Object.freeze(Object.defineProperty({__proto__:null,default:ss},Symbol.toStringTag,{value:"Module"}));export{handleEvent as default};
//# sourceMappingURL=index.mjs.map
